// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`openai > ignore injecting stream_options when stream is false > llm 1`] = `
{
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "message": {
        "annotations": [],
        "content": "Paris.",
        "refusal": null,
        "role": "assistant",
      },
    },
  ],
  "created": 1763400816,
  "id": "chatcmpl-CcxOaX4niuX1cZ9L0WPgYQ8KkSqlA",
  "model": "gpt-5-2025-08-07",
  "object": "chat.completion",
  "service_tier": "default",
  "system_fingerprint": null,
  "usage": {
    "completion_tokens": 11,
    "completion_tokens_details": {
      "accepted_prediction_tokens": 0,
      "audio_tokens": 0,
      "reasoning_tokens": 0,
      "rejected_prediction_tokens": 0,
    },
    "prompt_tokens": 23,
    "prompt_tokens_details": {
      "audio_tokens": 0,
      "cached_tokens": 0,
    },
    "pydantic_ai_gateway": {
      "cost_estimate": 0.00013875,
    },
    "total_tokens": 34,
  },
}
`;

exports[`openai > ignore injecting stream_options when stream is false > span 1`] = `
[
  {
    "attributes": {
      "gen_ai.input.messages": [
        {
          "parts": [
            {
              "content": "You are a helpful assistant.",
              "type": "text",
            },
          ],
          "role": "system",
        },
        {
          "parts": [
            {
              "content": "What is the capital of France?",
              "type": "text",
            },
          ],
          "role": "user",
        },
      ],
      "gen_ai.operation.name": "chat",
      "gen_ai.output.messages": [
        {
          "finish_reason": "stop",
          "parts": [
            {
              "content": "Paris.",
              "type": "text",
            },
          ],
          "role": "assistant",
        },
      ],
      "gen_ai.request.max_tokens": 1024,
      "gen_ai.request.model": "gpt-5",
      "gen_ai.request.seed": {},
      "gen_ai.request.stop_sequences": {},
      "gen_ai.request.temperature": {},
      "gen_ai.request.top_k": {},
      "gen_ai.request.top_p": {},
      "gen_ai.response.finish_reasons": [
        "stop",
      ],
      "gen_ai.response.id": "chatcmpl-CcxOaX4niuX1cZ9L0WPgYQ8KkSqlA",
      "gen_ai.response.model": "gpt-5-2025-08-07",
      "gen_ai.system": "openai",
      "gen_ai.system_instructions": {},
      "gen_ai.usage.cache_audio_read_tokens": {},
      "gen_ai.usage.cache_read_tokens": 0,
      "gen_ai.usage.cache_write_tokens": {},
      "gen_ai.usage.input_audio_tokens": 0,
      "gen_ai.usage.input_tokens": 23,
      "gen_ai.usage.output_audio_tokens": 0,
      "gen_ai.usage.output_tokens": 11,
      "http.request.body.text": "{
  "model": "gpt-5",
  "messages": [
    {
      "role": "developer",
      "content": "You are a helpful assistant."
    },
    {
      "role": "user",
      "content": "What is the capital of France?"
    }
  ],
  "max_completion_tokens": 1024,
  "stream": false
}",
      "http.response.body.text": "{"id":"chatcmpl-CcxOaX4niuX1cZ9L0WPgYQ8KkSqlA","object":"chat.completion","created":1763400816,"model":"gpt-5-2025-08-07","choices":[{"index":0,"message":{"role":"assistant","content":"Paris.","refusal":null,"annotations":[]},"finish_reason":"stop"}],"usage":{"prompt_tokens":23,"completion_tokens":11,"total_tokens":34,"prompt_tokens_details":{"cached_tokens":0,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":0,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0},"pydantic_ai_gateway":{"cost_estimate":0.00013875}},"service_tier":"default","system_fingerprint":null}",
      "http.response.status_code": 200,
      "logfire.json_schema": "{"type":"object","properties":{"gen_ai.operation.name":{"type":"string"},"gen_ai.request.model":{"type":"string"},"gen_ai.system":{"type":"string"},"gen_ai.request.max_tokens":{"type":"number"},"gen_ai.request.top_k":{},"gen_ai.request.top_p":{},"gen_ai.request.temperature":{},"gen_ai.request.stop_sequences":{},"gen_ai.request.seed":{},"gen_ai.response.finish_reasons":{},"gen_ai.response.id":{"type":"string"},"gen_ai.input.messages":{},"gen_ai.output.messages":{},"gen_ai.system_instructions":{},"http.response.status_code":{"type":"number"},"http.request.body.text":{"type":"string"},"http.response.body.text":{"type":"string"},"gen_ai.response.model":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.cache_read_tokens":{"type":"number"},"gen_ai.usage.cache_write_tokens":{},"gen_ai.usage.output_tokens":{"type":"number"},"gen_ai.usage.input_audio_tokens":{"type":"number"},"gen_ai.usage.cache_audio_read_tokens":{},"gen_ai.usage.output_audio_tokens":{"type":"number"}}}",
      "logfire.level_num": 9,
      "logfire.msg": "chat gpt-5-2025-08-07",
    },
    "events": [],
    "kind": 1,
    "links": [],
    "name": "chat gpt-5-2025-08-07",
    "parentSpanId": undefined,
    "resource": {
      "service.name": "PAIG",
      "service.version": "test",
    },
    "scope": "pydantic-ai-gateway",
    "status": {
      "code": 1,
    },
  },
]
`;

exports[`openai > openai chat > llm 1`] = `
{
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "message": {
        "annotations": [],
        "content": "Paris.",
        "refusal": null,
        "role": "assistant",
      },
    },
  ],
  "created": 1762860490,
  "id": "chatcmpl-CagpeM1SJL1btImFBBsJ3DlGZ2nKb",
  "model": "gpt-5-2025-08-07",
  "object": "chat.completion",
  "service_tier": "default",
  "system_fingerprint": null,
  "usage": {
    "completion_tokens": 11,
    "completion_tokens_details": {
      "accepted_prediction_tokens": 0,
      "audio_tokens": 0,
      "reasoning_tokens": 0,
      "rejected_prediction_tokens": 0,
    },
    "prompt_tokens": 23,
    "prompt_tokens_details": {
      "audio_tokens": 0,
      "cached_tokens": 0,
    },
    "pydantic_ai_gateway": {
      "cost_estimate": 0.00013875,
    },
    "total_tokens": 34,
  },
}
`;

exports[`openai > openai chat > span 1`] = `
[
  {
    "key": "logfire.msg",
    "value": {
      "stringValue": "chat gpt-5-2025-08-07",
    },
  },
  {
    "key": "logfire.json_schema",
    "value": {
      "stringValue": "{"type":"object","properties":{"gen_ai.operation.name":{"type":"string"},"gen_ai.request.model":{"type":"string"},"gen_ai.system":{"type":"string"},"gen_ai.request.max_tokens":{"type":"number"},"gen_ai.request.top_k":{},"gen_ai.request.top_p":{},"gen_ai.request.temperature":{},"gen_ai.request.stop_sequences":{},"gen_ai.request.seed":{},"gen_ai.response.finish_reasons":{},"gen_ai.response.id":{"type":"string"},"gen_ai.input.messages":{},"gen_ai.output.messages":{},"gen_ai.system_instructions":{},"http.response.status_code":{"type":"number"},"http.request.body.text":{"type":"string"},"http.response.body.text":{"type":"string"},"gen_ai.response.model":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.cache_read_tokens":{"type":"number"},"gen_ai.usage.cache_write_tokens":{},"gen_ai.usage.output_tokens":{"type":"number"},"gen_ai.usage.input_audio_tokens":{"type":"number"},"gen_ai.usage.cache_audio_read_tokens":{},"gen_ai.usage.output_audio_tokens":{"type":"number"}}}",
    },
  },
  {
    "key": "logfire.level_num",
    "value": {
      "intValue": 9,
    },
  },
  {
    "key": "gen_ai.operation.name",
    "value": {
      "stringValue": "chat",
    },
  },
  {
    "key": "gen_ai.request.model",
    "value": {
      "stringValue": "gpt-5",
    },
  },
  {
    "key": "gen_ai.system",
    "value": {
      "stringValue": "openai",
    },
  },
  {
    "key": "gen_ai.request.max_tokens",
    "value": {
      "intValue": 1024,
    },
  },
  {
    "key": "gen_ai.request.top_k",
    "value": {},
  },
  {
    "key": "gen_ai.request.top_p",
    "value": {},
  },
  {
    "key": "gen_ai.request.temperature",
    "value": {},
  },
  {
    "key": "gen_ai.request.stop_sequences",
    "value": {},
  },
  {
    "key": "gen_ai.request.seed",
    "value": {},
  },
  {
    "key": "gen_ai.response.finish_reasons",
    "value": {
      "arrayValue": {
        "values": [
          {
            "stringValue": "stop",
          },
        ],
      },
    },
  },
  {
    "key": "gen_ai.response.id",
    "value": {
      "stringValue": "chatcmpl-CagpeM1SJL1btImFBBsJ3DlGZ2nKb",
    },
  },
  {
    "key": "gen_ai.input.messages",
    "value": {
      "arrayValue": {
        "values": [
          {
            "kvlistValue": {
              "values": [
                {
                  "key": "role",
                  "value": {
                    "stringValue": "system",
                  },
                },
                {
                  "key": "parts",
                  "value": {
                    "arrayValue": {
                      "values": [
                        {
                          "kvlistValue": {
                            "values": [
                              {
                                "key": "type",
                                "value": {
                                  "stringValue": "text",
                                },
                              },
                              {
                                "key": "content",
                                "value": {
                                  "stringValue": "You are a helpful assistant.",
                                },
                              },
                            ],
                          },
                        },
                      ],
                    },
                  },
                },
              ],
            },
          },
          {
            "kvlistValue": {
              "values": [
                {
                  "key": "role",
                  "value": {
                    "stringValue": "user",
                  },
                },
                {
                  "key": "parts",
                  "value": {
                    "arrayValue": {
                      "values": [
                        {
                          "kvlistValue": {
                            "values": [
                              {
                                "key": "type",
                                "value": {
                                  "stringValue": "text",
                                },
                              },
                              {
                                "key": "content",
                                "value": {
                                  "stringValue": "What is the capital of France?",
                                },
                              },
                            ],
                          },
                        },
                      ],
                    },
                  },
                },
              ],
            },
          },
        ],
      },
    },
  },
  {
    "key": "gen_ai.output.messages",
    "value": {
      "arrayValue": {
        "values": [
          {
            "kvlistValue": {
              "values": [
                {
                  "key": "role",
                  "value": {
                    "stringValue": "assistant",
                  },
                },
                {
                  "key": "parts",
                  "value": {
                    "arrayValue": {
                      "values": [
                        {
                          "kvlistValue": {
                            "values": [
                              {
                                "key": "type",
                                "value": {
                                  "stringValue": "text",
                                },
                              },
                              {
                                "key": "content",
                                "value": {
                                  "stringValue": "Paris.",
                                },
                              },
                            ],
                          },
                        },
                      ],
                    },
                  },
                },
                {
                  "key": "finish_reason",
                  "value": {
                    "stringValue": "stop",
                  },
                },
              ],
            },
          },
        ],
      },
    },
  },
  {
    "key": "gen_ai.system_instructions",
    "value": {},
  },
  {
    "key": "http.response.status_code",
    "value": {
      "intValue": 200,
    },
  },
  {
    "key": "http.request.body.text",
    "value": {
      "stringValue": "{
  "model": "gpt-5",
  "messages": [
    {
      "role": "developer",
      "content": "You are a helpful assistant."
    },
    {
      "role": "user",
      "content": "What is the capital of France?"
    }
  ],
  "max_completion_tokens": 1024
}",
    },
  },
  {
    "key": "http.response.body.text",
    "value": {
      "stringValue": "{"id":"chatcmpl-CagpeM1SJL1btImFBBsJ3DlGZ2nKb","object":"chat.completion","created":1762860490,"model":"gpt-5-2025-08-07","choices":[{"index":0,"message":{"role":"assistant","content":"Paris.","refusal":null,"annotations":[]},"finish_reason":"stop"}],"usage":{"prompt_tokens":23,"completion_tokens":11,"total_tokens":34,"prompt_tokens_details":{"cached_tokens":0,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":0,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0},"pydantic_ai_gateway":{"cost_estimate":0.00013875}},"service_tier":"default","system_fingerprint":null}",
    },
  },
  {
    "key": "gen_ai.response.model",
    "value": {
      "stringValue": "gpt-5-2025-08-07",
    },
  },
  {
    "key": "gen_ai.usage.input_tokens",
    "value": {
      "intValue": 23,
    },
  },
  {
    "key": "gen_ai.usage.cache_read_tokens",
    "value": {
      "intValue": 0,
    },
  },
  {
    "key": "gen_ai.usage.cache_write_tokens",
    "value": {},
  },
  {
    "key": "gen_ai.usage.output_tokens",
    "value": {
      "intValue": 11,
    },
  },
  {
    "key": "gen_ai.usage.input_audio_tokens",
    "value": {
      "intValue": 0,
    },
  },
  {
    "key": "gen_ai.usage.cache_audio_read_tokens",
    "value": {},
  },
  {
    "key": "gen_ai.usage.output_audio_tokens",
    "value": {
      "intValue": 0,
    },
  },
]
`;

exports[`openai > openai chat legacy name > llm 1`] = `
{
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "message": {
        "annotations": [],
        "content": "Paris.",
        "refusal": null,
        "role": "assistant",
      },
    },
  ],
  "created": 1762860490,
  "id": "chatcmpl-CagpeM1SJL1btImFBBsJ3DlGZ2nKb",
  "model": "gpt-5-2025-08-07",
  "object": "chat.completion",
  "service_tier": "default",
  "system_fingerprint": null,
  "usage": {
    "completion_tokens": 11,
    "completion_tokens_details": {
      "accepted_prediction_tokens": 0,
      "audio_tokens": 0,
      "reasoning_tokens": 0,
      "rejected_prediction_tokens": 0,
    },
    "prompt_tokens": 23,
    "prompt_tokens_details": {
      "audio_tokens": 0,
      "cached_tokens": 0,
    },
    "pydantic_ai_gateway": {
      "cost_estimate": 0.00013875,
    },
    "total_tokens": 34,
  },
}
`;

exports[`openai > openai chat legacy name > span 1`] = `
[
  {
    "key": "logfire.msg",
    "value": {
      "stringValue": "chat gpt-5-2025-08-07",
    },
  },
  {
    "key": "logfire.json_schema",
    "value": {
      "stringValue": "{"type":"object","properties":{"gen_ai.operation.name":{"type":"string"},"gen_ai.request.model":{"type":"string"},"gen_ai.system":{"type":"string"},"gen_ai.request.max_tokens":{"type":"number"},"gen_ai.request.top_k":{},"gen_ai.request.top_p":{},"gen_ai.request.temperature":{},"gen_ai.request.stop_sequences":{},"gen_ai.request.seed":{},"gen_ai.response.finish_reasons":{},"gen_ai.response.id":{"type":"string"},"gen_ai.input.messages":{},"gen_ai.output.messages":{},"gen_ai.system_instructions":{},"http.response.status_code":{"type":"number"},"http.request.body.text":{"type":"string"},"http.response.body.text":{"type":"string"},"gen_ai.response.model":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.cache_read_tokens":{"type":"number"},"gen_ai.usage.cache_write_tokens":{},"gen_ai.usage.output_tokens":{"type":"number"},"gen_ai.usage.input_audio_tokens":{"type":"number"},"gen_ai.usage.cache_audio_read_tokens":{},"gen_ai.usage.output_audio_tokens":{"type":"number"}}}",
    },
  },
  {
    "key": "logfire.level_num",
    "value": {
      "intValue": 9,
    },
  },
  {
    "key": "gen_ai.operation.name",
    "value": {
      "stringValue": "chat",
    },
  },
  {
    "key": "gen_ai.request.model",
    "value": {
      "stringValue": "gpt-5",
    },
  },
  {
    "key": "gen_ai.system",
    "value": {
      "stringValue": "openai",
    },
  },
  {
    "key": "gen_ai.request.max_tokens",
    "value": {
      "intValue": 1024,
    },
  },
  {
    "key": "gen_ai.request.top_k",
    "value": {},
  },
  {
    "key": "gen_ai.request.top_p",
    "value": {},
  },
  {
    "key": "gen_ai.request.temperature",
    "value": {},
  },
  {
    "key": "gen_ai.request.stop_sequences",
    "value": {},
  },
  {
    "key": "gen_ai.request.seed",
    "value": {},
  },
  {
    "key": "gen_ai.response.finish_reasons",
    "value": {
      "arrayValue": {
        "values": [
          {
            "stringValue": "stop",
          },
        ],
      },
    },
  },
  {
    "key": "gen_ai.response.id",
    "value": {
      "stringValue": "chatcmpl-CagpeM1SJL1btImFBBsJ3DlGZ2nKb",
    },
  },
  {
    "key": "gen_ai.input.messages",
    "value": {
      "arrayValue": {
        "values": [
          {
            "kvlistValue": {
              "values": [
                {
                  "key": "role",
                  "value": {
                    "stringValue": "system",
                  },
                },
                {
                  "key": "parts",
                  "value": {
                    "arrayValue": {
                      "values": [
                        {
                          "kvlistValue": {
                            "values": [
                              {
                                "key": "type",
                                "value": {
                                  "stringValue": "text",
                                },
                              },
                              {
                                "key": "content",
                                "value": {
                                  "stringValue": "You are a helpful assistant.",
                                },
                              },
                            ],
                          },
                        },
                      ],
                    },
                  },
                },
              ],
            },
          },
          {
            "kvlistValue": {
              "values": [
                {
                  "key": "role",
                  "value": {
                    "stringValue": "user",
                  },
                },
                {
                  "key": "parts",
                  "value": {
                    "arrayValue": {
                      "values": [
                        {
                          "kvlistValue": {
                            "values": [
                              {
                                "key": "type",
                                "value": {
                                  "stringValue": "text",
                                },
                              },
                              {
                                "key": "content",
                                "value": {
                                  "stringValue": "What is the capital of France?",
                                },
                              },
                            ],
                          },
                        },
                      ],
                    },
                  },
                },
              ],
            },
          },
        ],
      },
    },
  },
  {
    "key": "gen_ai.output.messages",
    "value": {
      "arrayValue": {
        "values": [
          {
            "kvlistValue": {
              "values": [
                {
                  "key": "role",
                  "value": {
                    "stringValue": "assistant",
                  },
                },
                {
                  "key": "parts",
                  "value": {
                    "arrayValue": {
                      "values": [
                        {
                          "kvlistValue": {
                            "values": [
                              {
                                "key": "type",
                                "value": {
                                  "stringValue": "text",
                                },
                              },
                              {
                                "key": "content",
                                "value": {
                                  "stringValue": "Paris.",
                                },
                              },
                            ],
                          },
                        },
                      ],
                    },
                  },
                },
                {
                  "key": "finish_reason",
                  "value": {
                    "stringValue": "stop",
                  },
                },
              ],
            },
          },
        ],
      },
    },
  },
  {
    "key": "gen_ai.system_instructions",
    "value": {},
  },
  {
    "key": "http.response.status_code",
    "value": {
      "intValue": 200,
    },
  },
  {
    "key": "http.request.body.text",
    "value": {
      "stringValue": "{
  "model": "gpt-5",
  "messages": [
    {
      "role": "developer",
      "content": "You are a helpful assistant."
    },
    {
      "role": "user",
      "content": "What is the capital of France?"
    }
  ],
  "max_completion_tokens": 1024
}",
    },
  },
  {
    "key": "http.response.body.text",
    "value": {
      "stringValue": "{"id":"chatcmpl-CagpeM1SJL1btImFBBsJ3DlGZ2nKb","object":"chat.completion","created":1762860490,"model":"gpt-5-2025-08-07","choices":[{"index":0,"message":{"role":"assistant","content":"Paris.","refusal":null,"annotations":[]},"finish_reason":"stop"}],"usage":{"prompt_tokens":23,"completion_tokens":11,"total_tokens":34,"prompt_tokens_details":{"cached_tokens":0,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":0,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0},"pydantic_ai_gateway":{"cost_estimate":0.00013875}},"service_tier":"default","system_fingerprint":null}",
    },
  },
  {
    "key": "gen_ai.response.model",
    "value": {
      "stringValue": "gpt-5-2025-08-07",
    },
  },
  {
    "key": "gen_ai.usage.input_tokens",
    "value": {
      "intValue": 23,
    },
  },
  {
    "key": "gen_ai.usage.cache_read_tokens",
    "value": {
      "intValue": 0,
    },
  },
  {
    "key": "gen_ai.usage.cache_write_tokens",
    "value": {},
  },
  {
    "key": "gen_ai.usage.output_tokens",
    "value": {
      "intValue": 11,
    },
  },
  {
    "key": "gen_ai.usage.input_audio_tokens",
    "value": {
      "intValue": 0,
    },
  },
  {
    "key": "gen_ai.usage.cache_audio_read_tokens",
    "value": {},
  },
  {
    "key": "gen_ai.usage.output_audio_tokens",
    "value": {
      "intValue": 0,
    },
  },
]
`;

exports[`openai > openai chat stream > chunks 1`] = `
[
  {
    "choices": [
      {
        "delta": {
          "content": "",
          "refusal": null,
          "role": "assistant",
        },
        "finish_reason": null,
        "index": 0,
      },
    ],
    "created": 1762860554,
    "id": "chatcmpl-CagqgcMC5BuFBbC8tkJpiQ8SnkdsO",
    "model": "gpt-5-2025-08-07",
    "obfuscation": "MDpId38oCM",
    "object": "chat.completion.chunk",
    "service_tier": "default",
    "system_fingerprint": null,
    "usage": null,
  },
  {
    "choices": [
      {
        "delta": {
          "content": "Paris",
        },
        "finish_reason": null,
        "index": 0,
      },
    ],
    "created": 1762860554,
    "id": "chatcmpl-CagqgcMC5BuFBbC8tkJpiQ8SnkdsO",
    "model": "gpt-5-2025-08-07",
    "obfuscation": "HCdHjav",
    "object": "chat.completion.chunk",
    "service_tier": "default",
    "system_fingerprint": null,
    "usage": null,
  },
  {
    "choices": [
      {
        "delta": {
          "content": ".",
        },
        "finish_reason": null,
        "index": 0,
      },
    ],
    "created": 1762860554,
    "id": "chatcmpl-CagqgcMC5BuFBbC8tkJpiQ8SnkdsO",
    "model": "gpt-5-2025-08-07",
    "obfuscation": "2DbJDfge2l7",
    "object": "chat.completion.chunk",
    "service_tier": "default",
    "system_fingerprint": null,
    "usage": null,
  },
  {
    "choices": [
      {
        "delta": {},
        "finish_reason": "stop",
        "index": 0,
      },
    ],
    "created": 1762860554,
    "id": "chatcmpl-CagqgcMC5BuFBbC8tkJpiQ8SnkdsO",
    "model": "gpt-5-2025-08-07",
    "obfuscation": "Mg4E76",
    "object": "chat.completion.chunk",
    "service_tier": "default",
    "system_fingerprint": null,
    "usage": null,
  },
  {
    "choices": [],
    "created": 1762860554,
    "id": "chatcmpl-CagqgcMC5BuFBbC8tkJpiQ8SnkdsO",
    "model": "gpt-5-2025-08-07",
    "obfuscation": "zmlfl9RrKMq",
    "object": "chat.completion.chunk",
    "service_tier": "default",
    "system_fingerprint": null,
    "usage": {
      "completion_tokens": 11,
      "completion_tokens_details": {
        "accepted_prediction_tokens": 0,
        "audio_tokens": 0,
        "reasoning_tokens": 0,
        "rejected_prediction_tokens": 0,
      },
      "prompt_tokens": 23,
      "prompt_tokens_details": {
        "audio_tokens": 0,
        "cached_tokens": 0,
      },
      "total_tokens": 34,
    },
  },
]
`;

exports[`openai > openai chat stream > span 1`] = `
[
  {
    "attributes": {
      "gen_ai.operation.name": "chat",
      "gen_ai.request.max_tokens": 1024,
      "gen_ai.request.model": "gpt-5",
      "gen_ai.response.id": "chatcmpl-CagqgcMC5BuFBbC8tkJpiQ8SnkdsO",
      "gen_ai.response.model": "gpt-5-2025-08-07",
      "gen_ai.system": "openai",
      "gen_ai.usage.cache_read_tokens": 0,
      "gen_ai.usage.input_audio_tokens": 0,
      "gen_ai.usage.input_tokens": 23,
      "gen_ai.usage.output_audio_tokens": 0,
      "gen_ai.usage.output_tokens": 11,
      "http.request.header.accept": "application/json",
      "http.request.header.content-length": "319",
      "http.request.header.content-type": "application/json",
      "http.request.header.user-agent": "OpenAI/JS 4.104.0",
      "http.request.header.x-stainless-arch": "unknown",
      "http.request.header.x-stainless-lang": "js",
      "http.request.header.x-stainless-os": "Unknown",
      "http.request.header.x-stainless-package-version": "4.104.0",
      "http.request.header.x-stainless-retry-count": "0",
      "http.request.header.x-stainless-runtime": "unknown",
      "http.request.header.x-stainless-runtime-version": "unknown",
      "http.request.header.x-stainless-timeout": "600",
      "http.request.method": "POST",
      "http.response.header.content-type": "text/event-stream; charset=utf-8",
      "http.response.header.server": "uvicorn",
      "http.response.header.transfer-encoding": "chunked",
      "http.response.status_code": 200,
      "logfire.json_schema": "{"type":"object","properties":{"gen_ai.system":{"type":"string"},"gen_ai.operation.name":{"type":"string"},"gen_ai.request.model":{"type":"string"},"gen_ai.request.max_tokens":{"type":"number"},"gen_ai.response.model":{"type":"string"},"gen_ai.response.id":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.cache_read_tokens":{"type":"number"},"gen_ai.usage.output_tokens":{"type":"number"},"gen_ai.usage.input_audio_tokens":{"type":"number"},"gen_ai.usage.output_audio_tokens":{"type":"number"},"http.request.method":{"type":"string"},"url.full":{"type":"string"},"http.request.header.accept":{"type":"string"},"http.request.header.content-length":{"type":"string"},"http.request.header.content-type":{"type":"string"},"http.request.header.user-agent":{"type":"string"},"http.request.header.x-stainless-arch":{"type":"string"},"http.request.header.x-stainless-lang":{"type":"string"},"http.request.header.x-stainless-os":{"type":"string"},"http.request.header.x-stainless-package-version":{"type":"string"},"http.request.header.x-stainless-retry-count":{"type":"string"},"http.request.header.x-stainless-runtime":{"type":"string"},"http.request.header.x-stainless-runtime-version":{"type":"string"},"http.request.header.x-stainless-timeout":{"type":"string"},"http.response.status_code":{"type":"number"},"http.response.header.content-type":{"type":"string"},"http.response.header.server":{"type":"string"},"http.response.header.transfer-encoding":{"type":"string"}}}",
      "logfire.level_num": 9,
      "logfire.msg": "chat gpt-5",
      "url.full": "https://example.com/openai/chat/completions",
    },
    "events": [],
    "kind": 1,
    "links": [],
    "name": "chat gpt-5",
    "parentSpanId": undefined,
    "resource": {
      "service.name": "PAIG",
      "service.version": "test",
    },
    "scope": "pydantic-ai-gateway",
    "status": {
      "code": 1,
    },
  },
]
`;

exports[`openai > openai embeddings > embeddings 1`] = `
{
  "data": [
    {
      "embedding": [
        0.04169800877571106,
        0.0158005952835083,
        0.028160491958260536,
        0.024351144209504128,
        -0.023142803460359573,
        -0.002739247865974903,
        -0.014223608188331127,
        0.01433624979108572,
        0.010834109038114548,
        -0.010199218057096004,
        0.006942841224372387,
        -0.024043940007686615,
        -0.06164587661623955,
        -0.01508378330618143,
        -0.014233848080039024,
        0.023163283243775368,
        -0.006625395733863115,
        0.019446099177002907,
        0.07241854071617126,
        -0.024392105638980865,
        0.003002932295203209,
        -0.010091695934534073,
        -0.04100167378783226,
        0.011970768682658672,
        0.06209644302725792,
        0.0070964437909424305,
        -0.04554831609129906,
        -0.007347328122705221,
        0.00364038348197937,
        0.03942468762397766,
        0.04214857518672943,
        -0.0251498781144619,
        -0.0019558740314096212,
        0.04309067130088806,
        -0.024535467848181725,
        -0.03995717689394951,
        -0.03764289617538452,
        -0.039342764765024185,
        0.021320052444934845,
        0.029676036909222603,
        -0.003136054612696171,
        -0.01302550733089447,
        0.00684555945917964,
        0.013230310752987862,
        -0.027320796623826027,
        -0.030679574236273766,
        -0.009221280924975872,
        -0.039936695247888565,
        -0.03360826522111893,
        0.02748463861644268,
        0.03883075714111328,
        0.004044870380312204,
        0.03252280876040459,
        0.03262520954012871,
        -0.016814373433589935,
        0.004218953661620617,
        0.024678830057382584,
        0.009641128592193127,
        0.04665425419807434,
        0.015544591471552849,
        0.036127351224422455,
        -0.010265778750181198,
        0.026358218863606453,
        0.0043085552752017975,
        0.0005580897559411824,
        0.0354514978826046,
        -0.0039322287775576115,
        0.03788866102695465,
        0.05906534940004349,
        0.04612176492810249,
        -0.011059393174946308,
        0.016312604770064354,
        -0.00918543990701437,
        0.004631120711565018,
        -0.006594675127416849,
        -0.018145596608519554,
        -0.003968069329857826,
        -0.0059649040922522545,
        -0.03207223862409592,
        -0.031867437064647675,
        -0.036168310791254044,
        0.0010604985291138291,
        -0.01807391457259655,
        -0.008606869727373123,
        0.008248464204370975,
        -0.044647179543972015,
        0.026767827570438385,
        0.03383354842662811,
        -0.022917520254850388,
        -0.04767827317118645,
        0.0033997392747551203,
        0.011141314171254635,
        -0.025928132236003876,
        0.027115993201732635,
        -0.010388661175966263,
        0.01921057514846325,
        0.03549245744943619,
        0.0011750605190172791,
        -0.06819958984851837,
        0.000605450535658747,
        0.019323216751217842,
        -0.023982498794794083,
        -0.031109662726521492,
        0.026972630992531776,
        0.02560044638812542,
        0.040182460099458694,
        0.015862036496400833,
        -0.004974166862666607,
        0.003153975121676922,
        -0.03852355107665062,
        -0.025661887601017952,
        0.011212995275855064,
        0.0033536585979163647,
        0.02431018464267254,
        -0.04812883958220482,
        -0.029102588072419167,
        -0.023859616369009018,
        -0.02416682057082653,
        0.02902066521346569,
        -0.02574380859732628,
        0.033157698810100555,
        0.052511636167764664,
        -0.04718674346804619,
        0.010337459854781628,
        0.010752187110483646,
        -0.013424874283373356,
        -0.0027725284453481436,
        -0.002777648391202092,
        0.03491900861263275,
        -0.03870787471532822,
        0.01074194721877575,
        -0.02752560004591942,
        0.024535467848181725,
        0.033055298030376434,
        0.031232545152306557,
        0.01897505111992359,
        0.026952149346470833,
        -0.016937255859375,
        -0.018544962629675865,
        0.010782907716929913,
        0.007931018248200417,
        0.013189350254833698,
        0.021668218076229095,
        0.003315257839858532,
        -0.02668590471148491,
        -0.01458201464265585,
        -0.04143176227807999,
        0.040530625730752945,
        0.01154068112373352,
        -0.042312417179346085,
        0.040428224951028824,
        -0.02312232367694378,
        -0.0038989479653537273,
        0.01604636013507843,
        -0.0056525785475969315,
        -0.036721281707286835,
        -0.008970396593213081,
        0.019824985414743423,
        0.0059649040922522545,
        0.04341835901141167,
        -0.03878979757428169,
        0.04927574098110199,
        -0.03719232976436615,
        -0.006026345305144787,
        0.012257494032382965,
        0.03287097439169884,
        -0.03643455356359482,
        -0.02140197344124317,
        0.00695820152759552,
        -0.005381213966757059,
        -0.02461738884449005,
        0.004137032199651003,
        0.054354868829250336,
        0.021156208589673042,
        0.03006516396999359,
        -0.024392105638980865,
        -0.04943958297371864,
        0.0406944714486599,
        0.0003852867230307311,
        -0.01936417818069458,
        -0.028344813734292984,
        -0.02803760953247547,
        0.011735244654119015,
        0.013045987114310265,
        0.061277229338884354,
        0.029532674700021744,
        -0.011284676380455494,
        -0.025477563962340355,
        -0.014428411610424519,
        0.012564699165523052,
        0.03582014515995979,
        -0.02020387165248394,
        0.06160491332411766,
        -0.008207502774894238,
        -0.043950848281383514,
        0.0198147464543581,
        0.03352634608745575,
        0.01265686098486185,
        0.012267733924090862,
        -0.007997579872608185,
        -0.020490597933530807,
        0.02193446271121502,
        -0.00551945623010397,
        0.014377210289239883,
        -0.02158629707992077,
        0.030536212027072906,
        -0.011591882444918156,
        -0.013496555387973785,
        -0.01398808415979147,
        -0.010286259464919567,
        0.0009939373703673482,
        -0.003008052473887801,
        -0.02521131932735443,
        0.00474120257422328,
        0.0012096210848540068,
        0.025026995688676834,
        -0.00009424164454685524,
        0.01112083438783884,
        0.004208713304251432,
        0.024494506418704987,
        0.022815117612481117,
        0.015216905623674393,
        0.003947588615119457,
        -0.01148948073387146,
        -0.05591137334704399,
        0.047473467886447906,
        0.06185067817568779,
        0.011110593564808369,
        0.007116924040019512,
        -0.0036890243645757437,
        0.021012846380472183,
        -0.03192887827754021,
        0.0009395363740622997,
        -0.011223236098885536,
        -0.03283001109957695,
        0.017705269157886505,
        0.014141686260700226,
        0.02832433395087719,
        -0.03524669632315636,
        0.022815117612481117,
        -0.010803388431668282,
        0.021135728806257248,
        0.02863154001533985,
        -0.006625395733863115,
        -0.012298454530537128,
        -0.005204570945352316,
        0.027464158833026886,
        0.036270711570978165,
        0.005877862684428692,
        0.04337739571928978,
        0.057426922023296356,
        -0.0076238131150603294,
        -0.0018624324584379792,
        -0.005703779403120279,
        -0.019743064418435097,
        0.059556879103183746,
        -0.024494506418704987,
        -0.02818097174167633,
        -0.0359635055065155,
        -0.018145596608519554,
        0.006650995928794146,
        0.004362315870821476,
        -0.002106916857883334,
        -0.014326009899377823,
        0.020869484171271324,
        0.00018768326845020056,
        -0.01986594684422016,
        -0.024678830057382584,
        -0.014684416353702545,
        -0.008709271438419819,
        0.009738409891724586,
        -0.003530301619321108,
        -0.0166812501847744,
        0.009892012923955917,
        -0.019005771726369858,
        0.015872277319431305,
        -0.01856544427573681,
        -0.00817166268825531,
        -0.021258611232042313,
        0.0370284840464592,
        -0.0268907081335783,
        0.04481102153658867,
        -0.012892385013401508,
        0.0419028103351593,
        -0.051774341613054276,
        0.0009952173568308353,
        0.04423757269978523,
        0.021258611232042313,
        -0.012605659663677216,
        0.03065909445285797,
        0.021033326163887978,
        0.01985570602118969,
        -0.019435858353972435,
        -0.002831409452483058,
        -0.0029978123493492603,
        -0.04427853226661682,
        -0.003950148820877075,
        0.0011648202780634165,
        0.026870228350162506,
        -0.001858592382632196,
        -0.022753676399588585,
        0.022466951981186867,
        -0.005186650436371565,
        0.010035375133156776,
        -0.04517966881394386,
        0.06574194878339767,
        -0.0051431297324597836,
        0.047063861042261124,
        0.05214298889040947,
        0.00638987123966217,
        -0.039240363985300064,
        -0.03143734857439995,
        0.024637870490550995,
        -0.03422267735004425,
        -0.010224818252027035,
        0.045589275658130646,
        -0.013240550644695759,
        -0.0004217673558741808,
        0.029635077342391014,
        -0.00687115965411067,
        0.025129398331046104,
        0.00804365985095501,
        0.02451498806476593,
        -0.008376466110348701,
        -0.0023782814387232065,
        0.01683485321700573,
        0.012370135635137558,
        0.02650158293545246,
        -0.03506237268447876,
        -0.02381865493953228,
        -0.0005033687921240926,
        0.011407558806240559,
        0.004651600960642099,
        -0.00990737322717905,
        -0.026112455874681473,
        -0.02099236659705639,
        0.004933205898851156,
        0.03901508077979088,
        0.0013401834294199944,
        -0.014151927083730698,
        -0.0333625003695488,
        0.04640848934650421,
        0.009205920621752739,
        0.03094581887125969,
        0.003264056984335184,
        -0.026071494445204735,
        0.018852168694138527,
        0.02465835027396679,
        0.012237013317644596,
        0.0034663004335016012,
        -0.027402717620134354,
        -0.007209085859358311,
        -0.009190560318529606,
        -0.008176782168447971,
        -0.027771364897489548,
        0.002693166956305504,
        0.0702066645026207,
        -0.022405510768294334,
        -0.06353006511926651,
        0.03995717689394951,
        -0.04046918451786041,
        -0.0492347776889801,
        -0.025784770026803017,
        -0.04837460443377495,
        -0.03381307050585747,
        -0.0039271083660423756,
        0.013353193178772926,
        0.004339275881648064,
        -0.020275553688406944,
        0.06266989558935165,
        -0.03268665075302124,
        0.0050637684762477875,
        -0.004106311593204737,
        -0.02090020477771759,
        0.0425991415977478,
        -0.030085645616054535,
        0.04235338047146797,
        0.02119717001914978,
        0.013793520629405975,
        -0.01633308455348015,
        -0.028590578585863113,
        -0.01782815158367157,
        0.015472909435629845,
        -0.026112455874681473,
        0.06140011176466942,
        0.014418171718716621,
        0.0824129581451416,
        -0.04210761561989784,
        -0.009810090996325016,
        0.03045429103076458,
        -0.005196890793740749,
        0.010414261370897293,
        0.03174455463886261,
        0.03784770146012306,
        -0.07372928410768509,
        0.00563209829851985,
        0.01000465452671051,
        0.018135355785489082,
        -0.007413889281451702,
        -0.038892198354005814,
        0.021750139072537422,
        -0.0187702476978302,
        -0.03147830814123154,
        -0.049644384533166885,
        0.07581828534603119,
        0.02055203914642334,
        0.026010053232312202,
        0.0049127256497740746,
        0.014817538671195507,
        -0.03244088590145111,
        -0.004838484339416027,
        -0.06045801565051079,
        0.008407186716794968,
        -0.011806925758719444,
        0.002859569853171706,
        0.05161049962043762,
        0.06066281720995903,
        -0.06926456838846207,
        0.026276297867298126,
        -0.015677712857723236,
        -0.003386939177289605,
        -0.0044570378959178925,
        -0.046531371772289276,
        0.00856590922921896,
        -0.022303108125925064,
        -0.008227983489632607,
        -0.015493390150368214,
        -0.04690001904964447,
        0.003983429633080959,
        0.02867249958217144,
        -0.0010368181392550468,
        -0.0045363991521298885,
        0.0017062698025256395,
        0.0016051479615271091,
        0.0011558601399883628,
        -0.007229566108435392,
        0.006482033059000969,
        0.04550735279917717,
        -0.03199031949043274,
        0.023347606882452965,
        0.016957735642790794,
        0.0008672151016071439,
        0.002657326404005289,
        -0.013865201734006405,
        -0.03676224127411842,
        -0.018729286268353462,
        0.03743809461593628,
        0.013066467829048634,
        -0.04616272449493408,
        0.046777136623859406,
        -0.022446472197771072,
        0.007966859266161919,
        -0.02134053222835064,
        -0.01714205928146839,
        -0.007772295735776424,
        0.03743809461593628,
        0.026071494445204735,
        0.0901135727763176,
        0.008571029640734196,
        0.0002102436701534316,
        0.003084853757172823,
        0.059597838670015335,
        0.013240550644695759,
        0.027853285893797874,
        0.034447960555553436,
        0.023654812946915627,
        0.026583503931760788,
        0.015821075066924095,
        -0.04046918451786041,
        -0.04603984206914902,
        -0.005135449580848217,
        0.04509774595499039,
        0.010158257558941841,
        0.014305529184639454,
        -0.027791844680905342,
        -0.020971884950995445,
        -0.058164212852716446,
        0.014991621486842632,
        -0.05423198640346527,
        -0.024781232699751854,
        -0.03844163194298744,
        0.008611990138888359,
        -0.0031642152462154627,
        -0.02584621123969555,
        -0.08204431086778641,
        0.006246509030461311,
        0.005030487664043903,
        0.03838019073009491,
        -0.032113201916217804,
        0.02203686349093914,
        0.04186185076832771,
        -0.013783280737698078,
        -0.0034995810128748417,
        -0.005806181114166975,
        0.02818097174167633,
        -0.008089740760624409,
        -0.04341835901141167,
        -0.01732638292014599,
        -0.017705269157886505,
        -0.05644386261701584,
        -0.015964439138770103,
        0.015012102201581001,
        0.006722677033394575,
        0.009948333725333214,
        0.04218953475356102,
        0.05820517614483833,
        0.04694097861647606,
        0.026030534878373146,
        -0.023654812946915627,
        -0.010516663081943989,
        0.014520573429763317,
        -0.04829268157482147,
        0.012626140378415585,
        0.020080991089344025,
        -0.011755725368857384,
        0.008253583684563637,
        -0.02381865493953228,
        0.012011729180812836,
        -0.0015705873956903815,
        -0.026808787137269974,
        0.025047477334737778,
        0.01603611931204796,
        -0.002360361162573099,
        0.006313070189207792,
        0.027607521042227745,
        -0.008007819764316082,
        -0.009784490801393986,
        0.001804831437766552,
        0.03153974935412407,
        -0.056525785475969315,
        0.005724259652197361,
        -0.021504374220967293,
        -0.011581641621887684,
        -0.0017830710858106613,
        -0.009118879213929176,
        0.0008339345222339034,
        -0.009513125754892826,
        0.04927574098110199,
        0.016599329188466072,
        0.04358220100402832,
        -0.0006348910974338651,
        -0.003113014390692115,
        0.005381213966757059,
        -0.014244087971746922,
        -0.03608638793230057,
        -0.01856544427573681,
        0.006313070189207792,
        -0.05136473476886749,
        -0.01970210298895836,
        -0.03362874686717987,
        -0.022446472197771072,
        0.0576317235827446,
        -0.04431949183344841,
        -0.0436641201376915,
        -0.0021849980112165213,
        0.008924315683543682,
        -0.028201451525092125,
        -0.0027981288731098175,
        0.04235338047146797,
        -0.003909188322722912,
        0.029245950281620026,
        0.028733940795063972,
        0.037417612969875336,
        0.005606497637927532,
        0.004183113109320402,
        0.004213833715766668,
        0.006394991651177406,
        0.003141174791380763,
        -0.010255538858473301,
        -0.03455036133527756,
        0.019599702209234238,
        0.04354123771190643,
        0.017049897462129593,
        -0.013568236492574215,
        0.01190932746976614,
        0.010700986720621586,
        -0.03180599585175514,
        0.0026624463498592377,
        -0.006400111597031355,
        0.05996648594737053,
        0.013629677705466747,
        0.0020390755962580442,
        0.011929808184504509,
        -0.05472351610660553,
        -0.0569353923201561,
        0.0225283931940794,
        -0.004899925552308559,
        0.015923477709293365,
        -0.018299199640750885,
        -0.056771550327539444,
        -0.01986594684422016,
        0.06279277801513672,
        0.007444609887897968,
        -0.005831781774759293,
        0.0036839041858911514,
        0.005360733717679977,
        0.00666123628616333,
        -0.023060882464051247,
        -0.025969093665480614,
        -0.009876652620732784,
        0.0010195377981290221,
        0.008673431351780891,
        -0.0253137219697237,
        -0.04218953475356102,
        0.02476075105369091,
        -0.014797057956457138,
        0.025539005175232887,
        -0.027709923684597015,
        0.013936882838606834,
        0.005785700865089893,
        0.010368180461227894,
        -0.0006460912409238517,
        0.005714019760489464,
        0.01344535406678915,
        -0.006302829831838608,
        0.012185812927782536,
        -0.0016345884650945663,
        0.0309048593044281,
        -0.004649041220545769,
        0.022671755403280258,
        -0.006533233914524317,
        0.028652019798755646,
        -0.025887170806527138,
        0.0092571210116148,
        -0.01698845624923706,
        0.018084155395627022,
        0.011161794885993004,
        0.010388661175966263,
        0.022446472197771072,
        -0.02639918029308319,
        -0.01643548719584942,
        0.021852541714906693,
        -0.015565071254968643,
        0.010311859659850597,
        -0.02207782492041588,
        -0.03278905153274536,
        0.022016383707523346,
        -0.0009350563050247729,
        0.00790029764175415,
        -0.0403258241713047,
        0.045630235224962234,
        0.005114969331771135,
        -0.008489107713103294,
        0.01793055236339569,
        -0.021852541714906693,
        -0.001845792168751359,
        0.024924594908952713,
        0.04143176227807999,
        0.006640756037086248,
        -0.014592254534363747,
        0.030781976878643036,
        0.029204988852143288,
        0.004679761826992035,
        0.007265406660735607,
        0.004825684241950512,
        0.022548872977495193,
        0.03119158372282982,
        -0.0024730032309889793,
        -0.026010053232312202,
        0.06570098549127579,
        -0.02451498806476593,
        -0.027361758053302765,
        0.03360826522111893,
        -0.015339787118136883,
        -0.034591324627399445,
        0.005975143983960152,
        -0.03524669632315636,
        0.00684555945917964,
        0.05255259573459625,
        0.032809533178806305,
        -0.03348538279533386,
        -0.00364038348197937,
        0.02392105758190155,
        0.03129398450255394,
        -0.03598398715257645,
        -0.008560789749026299,
        -0.007567491848021746,
        -0.0017190700164064765,
        -0.025661887601017952,
        0.009579687379300594,
        0.04530255123972893,
        0.028488175943493843,
        -0.01124371588230133,
        0.03907652199268341,
        -0.0022566793486475945,
        0.009164960123598576,
        0.019876185804605484,
        0.05017687380313873,
        0.027894247323274612,
        -0.012370135635137558,
        -0.01876000687479973,
        -0.0022029185201972723,
        -0.02238503098487854,
        0.04067398980259895,
        0.025375163182616234,
        -0.03723328933119774,
        0.03817538544535637,
        0.013291751965880394,
        0.013936882838606834,
        0.01975330524146557,
        -0.005790820810943842,
        0.00148226588498801,
        -0.03278905153274536,
        0.004065351095050573,
        0.00993297342211008,
        0.004738642834126949,
        -0.010956991463899612,
        -0.005908582825213671,
        0.012441816739737988,
        -0.009477285668253899,
        -0.041022155433893204,
        -0.051037050783634186,
        -0.025641407817602158,
        0.008048780262470245,
        -0.0029542914126068354,
        0.04415564984083176,
        0.0024294822942465544,
        -0.011079872958362103,
        0.023859616369009018,
        -0.024453546851873398,
        -0.006246509030461311,
        -0.010793148539960384,
        -0.0309048593044281,
        -0.025477563962340355,
        0.029041146859526634,
        0.011212995275855064,
        -0.003747905371710658,
        0.009415844455361366,
        0.01599515974521637,
        0.009001117199659348,
        -0.009922732599079609,
        -0.028099050745368004,
        -0.00941072404384613,
        0.006154347211122513,
        0.018708806484937668,
        0.014735616743564606,
        -0.0012313814368098974,
        -0.00442119687795639,
        -0.04247625917196274,
        0.0018880328861996531,
        -0.02818097174167633,
        0.024822192266583443,
        0.006092906463891268,
        -0.03252280876040459,
        0.03502140939235687,
        0.048948053270578384,
        -0.002961971564218402,
        -0.015964439138770103,
        -0.021156208589673042,
        -0.02088996395468712,
        -0.031416866928339005,
        0.0026470862794667482,
        0.01856544427573681,
        -0.023941537365317345,
        0.021361012011766434,
        -0.01059858500957489,
        -0.006502513308078051,
        -0.005007447209209204,
        -0.0041703125461936,
        -0.05931111425161362,
        0.00023616412363480777,
        0.010875069536268711,
        -0.03366970643401146,
        -0.011643082834780216,
        -0.006681716535240412,
        -0.019282257184386253,
        0.01185812707990408,
        -0.004495438188314438,
        -0.024986036121845245,
        -0.014653695747256279,
        -0.019937627017498016,
        0.016271643340587616,
        -0.033997394144535065,
        -0.000680331839248538,
        0.01089555025100708,
        -0.0074753304943442345,
        -0.06484080851078033,
        0.01487897988408804,
        -0.0370284840464592,
        -0.029450753703713417,
        0.019988829270005226,
        0.005186650436371565,
        0.011202755384147167,
        0.0272388756275177,
        -0.008110221475362778,
        -0.019528020173311234,
        0.07876745611429214,
        -0.05455967038869858,
        -0.007516290992498398,
        -0.02412586100399494,
        0.009661608375608921,
        -0.0025792450178414583,
        -0.004874324891716242,
        -0.005831781774759293,
        0.02064420096576214,
        -0.012257494032382965,
        0.04317259415984154,
        -0.03237944468855858,
        0.00173955038189888,
        -0.04780115187168121,
        -0.030679574236273766,
        0.010337459854781628,
        0.023450009524822235,
        -0.020582759752869606,
        0.012298454530537128,
        0.02318376488983631,
        -0.03432507812976837,
        0.007838856428861618,
        0.02074660174548626,
        0.019149133935570717,
        -0.018145596608519554,
        -0.03950661048293114,
        -0.0006950521492399275,
        -0.029553154483437538,
        0.02867249958217144,
        0.016363805159926414,
        -0.006610035430639982,
        -0.029307391494512558,
        0.038503073155879974,
        0.01103891246020794,
        0.022323589771986008,
        0.007250046357512474,
        -0.029635077342391014,
        -0.032850492745637894,
        0.0340588353574276,
        -0.02065443992614746,
        0.04460621625185013,
        0.04976726695895195,
        0.010316980071365833,
        0.01638428494334221,
        -0.007019642274826765,
        0.02570284903049469,
        -0.01037330087274313,
        0.02070564031600952,
        0.0149301802739501,
        0.006594675127416849,
        0.012103891000151634,
        -0.03301433473825455,
        -0.005178970284759998,
        0.00423431396484375,
        -0.007628933060914278,
        0.025887170806527138,
        0.03133494779467583,
        -0.04309067130088806,
        0.039793334901332855,
        0.006748277693986893,
        -0.0036275831516832113,
        0.023593371734023094,
        0.005616737995296717,
        0.0040807113982737064,
        -0.01608731970191002,
        0.048456523567438126,
        -0.04415564984083176,
        -0.012912864796817303,
        -0.012257494032382965,
        0.02832433395087719,
        0.002544684335589409,
        0.02748463861644268,
        0.02105380780994892,
        -0.02099236659705639,
        -0.009344163350760937,
        -0.00446727778762579,
        -0.03514429181814194,
        -0.006231148727238178,
        -0.0031488549429923296,
        -0.0235728919506073,
        -0.02709551341831684,
        -0.04091975465416908,
        -0.03618879243731499,
        0.037909142673015594,
        0.012738781981170177,
        -0.031273506581783295,
        0.003896387992426753,
        0.01768478751182556,
        0.006236268673092127,
        0.03174455463886261,
        -0.006118506658822298,
        0.009272481314837933,
        -0.017305901274085045,
        -0.054150063544511795,
        -0.007219325751066208,
        0.0130971884354949,
        0.013455594889819622,
        -0.003136054612696171,
        -0.012482777237892151,
        -0.012267733924090862,
        -0.0032358963508158922,
        -0.02555948495864868,
        -0.0026496462523937225,
        0.01738782413303852,
        0.02891826443374157,
        0.026603983715176582,
        0.003233336377888918,
        -0.018882889300584793,
        -0.04792403429746628,
        0.011049152351915836,
        -0.01391640305519104,
        0.04354123771190643,
        -0.009415844455361366,
        -0.03663935884833336,
        -0.02242599055171013,
        0.0333625003695488,
        0.025928132236003876,
        -0.013936882838606834,
        0.01758238673210144,
        0.00643595214933157,
        -0.03418171778321266,
        0.03358778730034828,
        -0.011714763939380646,
        -0.03254328668117523,
        0.011694284155964851,
        -0.0198147464543581,
        -0.01185812707990408,
        0.018104635179042816,
        0.06660211831331253,
        -0.03397691249847412,
        -0.01044498197734356,
        0.052020106464624405,
        -0.03205176070332527,
        0.027177434414625168,
        -0.07282815128564835,
        0.049152858555316925,
        -0.04825172200798988,
        -0.046531371772289276,
        0.025825729593634605,
        0.014674175530672073,
        -0.005345373414456844,
        0.04010054096579552,
        -0.006789238192141056,
        0.002626605797559023,
        -0.009451684542000294,
        0.035328615456819534,
        -0.005401694215834141,
        -0.017008936032652855,
        -0.019732823595404625,
        -0.0006131306872703135,
        -0.030372370034456253,
        -0.009308322332799435,
        -0.029082106426358223,
        0.017991993576288223,
        0.0047488827258348465,
        0.014428411610424519,
        0.00817166268825531,
        0.002288679825142026,
        0.03964997082948685,
        0.003059253329411149,
        0.035287655889987946,
        -0.010409141890704632,
        0.07528579235076904,
        0.013537515886127949,
        0.010496183298528194,
        -0.037110406905412674,
        -0.018903369084000587,
        -0.016568608582019806,
        0.018360640853643417,
        0.0232247244566679,
        -0.004882005043327808,
        0.013936882838606834,
        -0.016005398705601692,
        -0.010158257558941841,
        -0.02207782492041588,
        0.016896294429898262,
        0.0011219395091757178,
        0.0011974609224125743,
        -0.022507913410663605,
        0.020377954468131065,
        -0.01649692840874195,
        0.026563024148344994,
        0.022303108125925064,
        0.04546639323234558,
        -0.015196424908936024,
        -0.022548872977495193,
        -0.009886892512440681,
        0.01367063820362091,
        -0.013271271251142025,
        -0.03977285325527191,
        0.03950661048293114,
        0.012554459273815155,
        0.008555669337511063,
        -0.00004080071084899828,
        0.009461925365030766,
        0.0007302527083083987,
        -0.000619530794210732,
        -0.0027827685698866844,
        -0.010588345117866993,
        0.0004899285268038511,
        -0.012933345511555672,
        -0.002330920659005642,
        -0.00698380172252655,
        -0.013015267439186573,
        0.03303481638431549,
        0.032113201916217804,
        0.01797151379287243,
        -0.020869484171271324,
        0.010608824901282787,
        -0.000775053515098989,
        0.0035635821986943483,
        -0.0031846954952925444,
        0.04481102153658867,
        -0.04163656756281853,
        -0.06049897521734238,
        0.03668031841516495,
        0.010772667825222015,
        -0.015769874677062035,
        -0.009820330888032913,
        -0.017510704696178436,
        -0.012216532602906227,
        0.023859616369009018,
        -0.03967045247554779,
        -0.07143548876047134,
        0.008632470853626728,
        -0.01826847903430462,
        0.0010144177358597517,
        -0.01220629271119833,
        -0.02034723572432995,
        0.023347606882452965,
        0.027771364897489548,
        -0.004183113109320402,
        -0.024945074692368507,
        -0.015053062699735165,
        -0.027300316840410233,
        0.007654533721506596,
        0.008739992044866085,
        -0.0034560603089630604,
        0.021156208589673042,
        -0.017244460061192513,
        0.0029491714667528868,
        -0.011960528790950775,
        -0.006446192506700754,
        -0.0019392338581383228,
        -0.01738782413303852,
        -0.01094675064086914,
        -0.038646433502435684,
        0.02615341544151306,
        -0.012329175136983395,
        0.012810463085770607,
        0.012257494032382965,
        0.00544777512550354,
        -0.02015267126262188,
        0.007884937338531017,
        -0.0041600726544857025,
        -0.00046176803880371153,
        -0.03491900861263275,
        -0.014715136960148811,
        0.021258611232042313,
        -0.010557624511420727,
        -0.0007635332876816392,
        0.02744367904961109,
        0.03407931327819824,
        -0.005621857941150665,
        -0.05021783709526062,
        -0.016773412004113197,
        0.010875069536268711,
        -0.03045429103076458,
        -0.04091975465416908,
        -0.0333625003695488,
        -0.004265034571290016,
        -0.010660026222467422,
        0.001943073933944106,
        0.014100725762546062,
        0.041124556213617325,
        0.007567491848021746,
        0.028099050745368004,
        -0.032358963042497635,
        -0.003194935619831085,
        0.031621672213077545,
        0.02441258542239666,
        0.011581641621887684,
        -0.0070964437909424305,
        0.02189350128173828,
        -0.0016473886789754033,
        0.01354775670915842,
        0.014305529184639454,
        0.012114130891859531,
        -0.019026251509785652,
        -0.008038540370762348,
        0.006072425749152899,
        0.034447960555553436,
        0.01227797381579876,
        0.04501582682132721,
        0.008750232867896557,
        -0.014694656245410442,
        0.030495252460241318,
        0.035431016236543655,
        -0.03715136647224426,
        -0.04710482060909271,
        0.020971884950995445,
        -0.020336994901299477,
        -0.01614876091480255,
        -0.008770712651312351,
        0.015022342093288898,
        0.03942468762397766,
        0.007895177230238914,
        -0.015964439138770103,
        0.059106308966875076,
        0.023142803460359573,
        -0.012841183692216873,
        -0.013977843336760998,
        0.011141314171254635,
        0.0375404953956604,
        0.03000372275710106,
        -0.027853285893797874,
        0.02748463861644268,
        -0.018114876002073288,
        0.013568236492574215,
        -0.0023949218448251486,
        -0.03856451436877251,
        -0.00035296616260893643,
        -0.0068660397082567215,
        -0.02006050944328308,
        0.017838390544056892,
        0.03491900861263275,
        0.011223236098885536,
        0.016466207802295685,
        -0.023388568311929703,
        0.021033326163887978,
        0.012830943800508976,
        -0.010547383688390255,
        -0.01148948073387146,
        0.01044498197734356,
        0.04169800877571106,
        -0.031621672213077545,
        -0.042517222464084625,
        -0.00288517028093338,
        -0.0021389173343777657,
        -0.020029788836836815,
        -0.017060138285160065,
        -0.011212995275855064,
        -0.010357940569519997,
        -0.005102168768644333,
        0.017459504306316376,
        0.016415005549788475,
        -0.017695028334856033,
        -0.0022464392241090536,
        -0.022999441251158714,
        0.008028300479054451,
        -0.017295662313699722,
        -0.0039117480628192425,
        -0.02609197422862053,
        0.0340588353574276,
        0.013906162232160568,
        -0.018483523279428482,
        0.0232247244566679,
        0.03016756661236286,
        -0.008606869727373123,
        -0.027894247323274612,
        0.016322845593094826,
        0.04788307473063469,
        -0.004528719000518322,
        0.02633773908019066,
        0.008227983489632607,
        -0.00977937038987875,
        -0.0025434044655412436,
        -0.011212995275855064,
        0.009820330888032913,
        -0.009451684542000294,
        -0.006743157748132944,
        -0.00517385033890605,
        0.02787376567721367,
        0.04522062838077545,
        -0.0051277694292366505,
        0.004782163538038731,
        -0.0031181343365460634,
        0.01265686098486185,
        -0.06258796900510788,
        -0.022016383707523346,
        0.003717184765264392,
        -0.015923477709293365,
        -0.007086203433573246,
        -0.017408303916454315,
        0.005319772753864527,
        0.011776205152273178,
        0.019333457574248314,
        0.004185672849416733,
        0.01882144808769226,
        0.011458760127425194,
        -0.04431949183344841,
        -0.024146340787410736,
        0.022344069555401802,
        0.027156952768564224,
        -0.004167752806097269,
        0.0035482218954712152,
        0.04599888250231743,
        -0.0005158489802852273,
        -0.027054551988840103,
        0.003891267813742161,
        0.026665424928069115,
        -0.028652019798755646,
        0.0003868867352139205,
        0.013578476384282112,
        -0.022118786349892616,
        0.004920405801385641,
        -0.0002334440650884062,
        -0.0031846954952925444,
        0.00881167408078909,
        0.02312232367694378,
        -0.007219325751066208,
        0.03420219570398331,
        0.014674175530672073,
        -0.020336994901299477,
        0.0037402252200990915,
        -0.01664029061794281,
        0.000318565551424399,
        0.024965554475784302,
        0.0074702100828289986,
        0.04530255123972893,
        0.012585179880261421,
        0.029778439551591873,
        -0.0001963234244612977,
        -0.011806925758719444,
        0.008105101063847542,
        -0.008079500868916512,
        -0.0253137219697237,
        -0.005493856035172939,
        0.03782721981406212,
        -0.0216477382928133,
        0.03690560534596443,
        0.03371066972613335,
        0.012114130891859531,
        -0.02912306785583496,
        0.009518246166408062,
        0.0035405417438596487,
        0.008048780262470245,
        -0.0038503070827573538,
        -0.01882144808769226,
        -0.040735431015491486,
        0.06094954162836075,
        -0.01206293050199747,
        0.03727424889802933,
        0.0033613385166972876,
        -0.015329547226428986,
        0.01369111891835928,
        -0.05501024052500725,
        -0.007936138659715652,
        0.011653323657810688,
        0.02713647298514843,
        0.021709179505705833,
        -0.006420591846108437,
        -0.0016358685679733753,
        -0.014029044657945633,
        -0.01985570602118969,
        0.0009254561155103147,
        0.061277229338884354,
        -0.03795010223984718,
        0.008658071048557758,
        -0.028058089315891266,
        -0.009748649783432484,
        -0.018401600420475006,
        -0.01590299792587757,
        -0.0272388756275177,
        0.019005771726369858,
        0.0067994785495102406,
        -0.021606776863336563,
        0.0025958851911127567,
        -0.04804691672325134,
        -0.029327871277928352,
        0.0005596897681243718,
        -0.024576429277658463,
        -0.01569819450378418,
        0.050832245498895645,
        0.005975143983960152,
        0.03512381389737129,
        -0.03381307050585747,
        -0.02521131932735443,
        -0.0006137706805020571,
        -0.0037351050414144993,
        -0.011571401730179787,
        0.002841649577021599,
        0.004720722325146198,
        0.0034150995779782534,
        0.005621857941150665,
        0.013496555387973785,
        -0.027894247323274612,
        0.03799106180667877,
        -0.02684974856674671,
        0.00792077835649252,
        0.006830199155956507,
        0.02684974856674671,
        0.031969837844371796,
        0.010567864403128624,
        -0.0034586202818900347,
        -0.03663935884833336,
        0.01753118634223938,
        -0.00480520399287343,
        0.05754980444908142,
        0.021115249022841454,
        0.039445169270038605,
        0.010168497450649738,
        0.03215416148304939,
        0.00673291739076376,
        -0.029204988852143288,
        0.007337087765336037,
        -0.03334202244877815,
        0.032461367547512054,
        -0.010977471247315407,
        -0.03749953582882881,
        0.026665424928069115,
        -0.03180599585175514,
        -0.006000744644552469,
        -0.004820564296096563,
        0.03846210986375809,
        0.008745112456381321,
        -0.025518525391817093,
        0.010071215219795704,
        0.03174455463886261,
        0.02783280611038208,
        -0.016322845593094826,
        -0.014694656245410442,
        0.03045429103076458,
        -0.012769502587616444,
        -0.04571215808391571,
        -0.0004825684300158173,
        0.0038938280194997787,
        0.03555389866232872,
        -0.006144107319414616,
        0.000021620377083308995,
        -0.018954571336507797,
        -0.004265034571290016,
        -0.0062413886189460754,
        -0.020285794511437416,
        0.013660398311913013,
        0.03739713132381439,
        0.014489852823317051,
        0.027771364897489548,
        0.023757213726639748,
        -0.009052317589521408,
        -0.02301992103457451,
        0.00821774359792471,
        -0.017049897462129593,
        -0.012687581591308117,
        -0.008760472759604454,
        -0.016722211614251137,
        0.015780115500092506,
        0.0028800503350794315,
        -0.002380841411650181,
        -0.014418171718716621,
        0.012646620161831379,
        0.02381865493953228,
        -0.021422453224658966,
        -0.01039890106767416,
        0.023736733943223953,
        -0.029143547639250755,
        0.016875814646482468,
        -0.04931670054793358,
        -0.008929436095058918,
        0.02179110050201416,
        -0.031724072992801666,
        0.0432954765856266,
        0.03571774438023567,
        0.029696518555283546,
        -0.026726866140961647,
        0.0006176107563078403,
        -0.04841556400060654,
        -0.002734127687290311,
        -0.030085645616054535,
        0.029839880764484406,
        0.010567864403128624,
        0.02238503098487854,
        -0.03784770146012306,
        -0.008545429445803165,
        0.015216905623674393,
        -0.004930646158754826,
        -0.021033326163887978,
        -0.01718301884829998,
        0.022118786349892616,
        -0.012810463085770607,
        -0.03035189025104046,
        -0.01831967942416668,
        0.006615155376493931,
        -0.005089368671178818,
        0.009282722137868404,
        0.011847886256873608,
        -0.03100726008415222,
        -0.023040402680635452,
        -0.033546824008226395,
        0.020019549876451492,
        -0.023163283243775368,
        -0.009794730693101883,
        -0.0029696517158299685,
        -0.0130971884354949,
        -0.009958573617041111,
        0.03237944468855858,
        0.012370135635137558,
        -0.0056525785475969315,
        0.02263079397380352,
        0.0336901880800724,
        0.006579314824193716,
        0.017889592796564102,
        0.018196796998381615,
        -0.03383354842662811,
        -0.013680879026651382,
        -0.012533978559076786,
        -0.022364549338817596,
        0.009292962029576302,
        -0.008386706002056599,
        -0.008048780262470245,
        0.0450567863881588,
        0.028099050745368004,
        -0.016056600958108902,
        -0.047022901475429535,
        0.02412586100399494,
        -0.002428202424198389,
        -0.0020301153417676687,
        0.01643548719584942,
        0.01927201636135578,
        0.013773039914667606,
        -0.006922360509634018,
        -0.014182647690176964,
        0.00935952365398407,
        -0.009989294223487377,
        0.008094861172139645,
        -0.01737758331000805,
        -0.015216905623674393,
        0.0033382982946932316,
        -0.02713647298514843,
        -0.030085645616054535,
        0.025231800973415375,
        0.013814001344144344,
        -0.023060882464051247,
        0.04304971173405647,
        0.00407303124666214,
        0.0020173152443021536,
        0.04980823025107384,
        0.03782721981406212,
        0.005596257746219635,
        0.0309048593044281,
        -0.041677527129650116,
        -0.011438279412686825,
        -0.002384681487455964,
        -0.022507913410663605,
        -0.004208713304251432,
        -0.006528113968670368,
        0.03506237268447876,
        0.022098304703831673,
        0.015206664800643921,
        0.0019507539691403508,
        -0.010219697840511799,
        0.041083596646785736,
        -0.00551945623010397,
        -0.04034630209207535,
        -0.01821727678179741,
        -0.0017805109964683652,
        -0.01857568323612213,
        0.016312604770064354,
        -0.012400856241583824,
        0.012994786724448204,
        -0.0062772296369075775,
        -0.0017817910993471742,
        0.0007673733634874225,
        0.023101842030882835,
        0.019128654152154922,
        0.015288586728274822,
        0.03727424889802933,
        -0.009236641228199005,
        0.023511450737714767,
        -0.019374417141079903,
        0.022958479821681976,
        0.00817166268825531,
        -0.007480450440198183,
        -0.012237013317644596,
        0.015411469154059887,
        0.015718674287199974,
        -0.006282349582761526,
        0.03715136647224426,
        -0.03164215013384819,
        0.0043879165314137936,
        -0.023634331300854683,
        0.026603983715176582,
        0.010639545507729053,
        0.028713461011648178,
        -0.025375163182616234,
        -0.016824614256620407,
        0.0074702100828289986,
        -0.00450823875144124,
        0.012021970003843307,
        -0.007040122989565134,
        -0.015124743804335594,
        0.02228262834250927,
        0.02490411512553692,
        0.012830943800508976,
        -0.024474026635289192,
        -0.01793055236339569,
        -0.02168869785964489,
        -0.06398063898086548,
        0.028549617156386375,
        0.021381493657827377,
        0.006200428120791912,
        0.014592254534363747,
        -0.026235338300466537,
        0.003983429633080959,
        0.0033510983921587467,
        0.017070377245545387,
        -0.01005585491657257,
        0.018483523279428482,
        -0.014377210289239883,
        -0.002320680534467101,
        0.00647691311314702,
        -0.01403928454965353,
        0.036864642053842545,
        -0.033403463661670685,
        -0.004759123083204031,
        0.011950287967920303,
        -0.04882517084479332,
        0.015831315889954567,
        0.010153137147426605,
        -0.00735244806855917,
        0.010178737342357635,
        0.005591137334704399,
        -0.02079780213534832,
        0.018657606095075607,
        0.038748834282159805,
        -0.008320145308971405,
        -0.01976354420185089,
        -0.036967046558856964,
        0.003315257839858532,
        -0.004794963635504246,
        0.0333625003695488,
        -0.0070964437909424305,
        -0.044196609407663345,
        0.027320796623826027,
        -0.029737478122115135,
        0.025477563962340355,
        0.04841556400060654,
        0.009948333725333214,
        -0.0030208525713533163,
        -0.014766337350010872,
        -0.01426456868648529,
        -0.02521131932735443,
        0.01683485321700573,
        -0.007183485198765993,
        -0.03020852617919445,
        0.007035002578049898,
        0.04362316057085991,
        -0.02119717001914978,
        0.007562371902167797,
        0.036270711570978165,
      ],
      "index": 0,
      "object": "embedding",
    },
  ],
  "model": "text-embedding-3-small",
  "object": "list",
  "usage": {
    "prompt_tokens": 7,
    "pydantic_ai_gateway": {
      "cost_estimate": 1.4e-7,
    },
    "total_tokens": 7,
  },
}
`;

exports[`openai > openai embeddings > span 1`] = `
[
  {
    "attributes": {
      "gen_ai.input.messages": {},
      "gen_ai.operation.name": "chat",
      "gen_ai.output.messages": {},
      "gen_ai.request.max_tokens": {},
      "gen_ai.request.model": "text-embedding-3-small",
      "gen_ai.request.seed": {},
      "gen_ai.request.stop_sequences": {},
      "gen_ai.request.temperature": {},
      "gen_ai.request.top_k": {},
      "gen_ai.request.top_p": {},
      "gen_ai.response.finish_reasons": {},
      "gen_ai.response.id": {},
      "gen_ai.response.model": "text-embedding-3-small",
      "gen_ai.system": "openai",
      "gen_ai.system_instructions": {},
      "gen_ai.usage.cache_audio_read_tokens": {},
      "gen_ai.usage.cache_read_tokens": {},
      "gen_ai.usage.cache_write_tokens": {},
      "gen_ai.usage.input_audio_tokens": {},
      "gen_ai.usage.input_tokens": 7,
      "gen_ai.usage.output_audio_tokens": {},
      "gen_ai.usage.output_tokens": {},
      "http.request.body.text": "{
  "model": "text-embedding-3-small",
  "input": "What is the capital of France?",
  "encoding_format": "base64"
}",
      "http.response.body.text": "{"object":"list","data":[{"object":"embedding","index":0,"embedding":"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"}],"model":"text-embedding-3-small","usage":{"prompt_tokens":7,"total_tokens":7,"pydantic_ai_gateway":{"cost_estimate":1.4e-7}}}",
      "http.response.status_code": 200,
      "logfire.json_schema": "{"type":"object","properties":{"gen_ai.operation.name":{"type":"string"},"gen_ai.request.model":{"type":"string"},"gen_ai.system":{"type":"string"},"gen_ai.request.max_tokens":{},"gen_ai.request.top_k":{},"gen_ai.request.top_p":{},"gen_ai.request.temperature":{},"gen_ai.request.stop_sequences":{},"gen_ai.request.seed":{},"gen_ai.response.finish_reasons":{},"gen_ai.response.id":{},"gen_ai.input.messages":{},"gen_ai.output.messages":{},"gen_ai.system_instructions":{},"http.response.status_code":{"type":"number"},"http.request.body.text":{"type":"string"},"http.response.body.text":{"type":"string"},"gen_ai.response.model":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.cache_read_tokens":{},"gen_ai.usage.cache_write_tokens":{},"gen_ai.usage.output_tokens":{},"gen_ai.usage.input_audio_tokens":{},"gen_ai.usage.cache_audio_read_tokens":{},"gen_ai.usage.output_audio_tokens":{}}}",
      "logfire.level_num": 9,
      "logfire.msg": "chat text-embedding-3-small",
    },
    "events": [],
    "kind": 1,
    "links": [],
    "name": "chat text-embedding-3-small",
    "parentSpanId": undefined,
    "resource": {
      "service.name": "PAIG",
      "service.version": "test",
    },
    "scope": "pydantic-ai-gateway",
    "status": {
      "code": 1,
    },
  },
]
`;

exports[`openai > openai responses > llm 1`] = `
{
  "background": false,
  "billing": {
    "payer": "developer",
  },
  "created_at": 1762860501,
  "error": null,
  "id": "resp_06980adb25617f1f0069131dd594748191acfa111979088ba1",
  "incomplete_details": null,
  "instructions": "reply concisely",
  "max_output_tokens": null,
  "max_tool_calls": null,
  "metadata": {},
  "model": "gpt-5-2025-08-07",
  "object": "response",
  "output": [
    {
      "id": "rs_06980adb25617f1f0069131dd62a988191b7246fab30360669",
      "summary": [],
      "type": "reasoning",
    },
    {
      "content": [
        {
          "annotations": [],
          "logprobs": [],
          "text": "Usually blue in daytime, but it can be red/orange at sunrise/sunset, gray when cloudy, and black at night.",
          "type": "output_text",
        },
      ],
      "id": "msg_06980adb25617f1f0069131ddbb65081919889ee4ba15e0ec4",
      "role": "assistant",
      "status": "completed",
      "type": "message",
    },
  ],
  "output_text": "Usually blue in daytime, but it can be red/orange at sunrise/sunset, gray when cloudy, and black at night.",
  "parallel_tool_calls": true,
  "previous_response_id": null,
  "prompt_cache_key": null,
  "prompt_cache_retention": null,
  "reasoning": {
    "effort": "medium",
    "summary": null,
  },
  "safety_identifier": null,
  "service_tier": "default",
  "status": "completed",
  "store": true,
  "temperature": 1,
  "text": {
    "format": {
      "type": "text",
    },
    "verbosity": "medium",
  },
  "tool_choice": "auto",
  "tools": [],
  "top_logprobs": 0,
  "top_p": 1,
  "truncation": "disabled",
  "usage": {
    "input_tokens": 20,
    "input_tokens_details": {
      "cached_tokens": 0,
    },
    "output_tokens": 160,
    "output_tokens_details": {
      "reasoning_tokens": 128,
    },
    "pydantic_ai_gateway": {
      "cost_estimate": 0.0016250000000000001,
    },
    "total_tokens": 180,
  },
  "user": null,
}
`;

exports[`openai > openai responses > span 1`] = `
[
  {
    "attributes": {
      "gen_ai.input.messages": [
        {
          "parts": [
            {
              "content": "what color is the sky?",
              "type": "text",
            },
          ],
          "role": "user",
        },
      ],
      "gen_ai.operation.name": "chat",
      "gen_ai.output.messages": [
        {
          "parts": [
            {
              "content": "",
              "type": "thinking",
            },
            {
              "content": "Usually blue in daytime, but it can be red/orange at sunrise/sunset, gray when cloudy, and black at night.",
              "type": "text",
            },
          ],
          "role": "assistant",
        },
      ],
      "gen_ai.request.max_tokens": {},
      "gen_ai.request.model": "gpt-5",
      "gen_ai.request.seed": {},
      "gen_ai.request.stop_sequences": {},
      "gen_ai.request.temperature": {},
      "gen_ai.request.top_k": {},
      "gen_ai.request.top_p": {},
      "gen_ai.response.finish_reasons": {},
      "gen_ai.response.id": "resp_06980adb25617f1f0069131dd594748191acfa111979088ba1",
      "gen_ai.response.model": "gpt-5-2025-08-07",
      "gen_ai.system": "openai",
      "gen_ai.system_instructions": {},
      "gen_ai.usage.cache_audio_read_tokens": {},
      "gen_ai.usage.cache_read_tokens": 0,
      "gen_ai.usage.cache_write_tokens": {},
      "gen_ai.usage.input_audio_tokens": {},
      "gen_ai.usage.input_tokens": 20,
      "gen_ai.usage.output_audio_tokens": {},
      "gen_ai.usage.output_tokens": 160,
      "http.request.body.text": "{
  "model": "gpt-5",
  "instructions": "reply concisely",
  "input": "what color is the sky?"
}",
      "http.response.body.text": "{"id":"resp_06980adb25617f1f0069131dd594748191acfa111979088ba1","object":"response","created_at":1762860501,"status":"completed","background":false,"billing":{"payer":"developer"},"error":null,"incomplete_details":null,"instructions":"reply concisely","max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-2025-08-07","output":[{"id":"rs_06980adb25617f1f0069131dd62a988191b7246fab30360669","type":"reasoning","summary":[]},{"id":"msg_06980adb25617f1f0069131ddbb65081919889ee4ba15e0ec4","type":"message","status":"completed","content":[{"type":"output_text","annotations":[],"logprobs":[],"text":"Usually blue in daytime, but it can be red/orange at sunrise/sunset, gray when cloudy, and black at night."}],"role":"assistant"}],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"default","store":true,"temperature":1,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[],"top_logprobs":0,"top_p":1,"truncation":"disabled","usage":{"input_tokens":20,"input_tokens_details":{"cached_tokens":0},"output_tokens":160,"output_tokens_details":{"reasoning_tokens":128},"total_tokens":180,"pydantic_ai_gateway":{"cost_estimate":0.0016250000000000001}},"user":null,"metadata":{}}",
      "http.response.status_code": 200,
      "logfire.json_schema": "{"type":"object","properties":{"gen_ai.operation.name":{"type":"string"},"gen_ai.request.model":{"type":"string"},"gen_ai.system":{"type":"string"},"gen_ai.request.max_tokens":{},"gen_ai.request.top_k":{},"gen_ai.request.top_p":{},"gen_ai.request.temperature":{},"gen_ai.request.stop_sequences":{},"gen_ai.request.seed":{},"gen_ai.response.finish_reasons":{},"gen_ai.response.id":{"type":"string"},"gen_ai.input.messages":{},"gen_ai.output.messages":{},"gen_ai.system_instructions":{},"http.response.status_code":{"type":"number"},"http.request.body.text":{"type":"string"},"http.response.body.text":{"type":"string"},"gen_ai.response.model":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.cache_read_tokens":{"type":"number"},"gen_ai.usage.cache_write_tokens":{},"gen_ai.usage.output_tokens":{"type":"number"},"gen_ai.usage.input_audio_tokens":{},"gen_ai.usage.cache_audio_read_tokens":{},"gen_ai.usage.output_audio_tokens":{}}}",
      "logfire.level_num": 9,
      "logfire.msg": "chat gpt-5-2025-08-07",
    },
    "events": [],
    "kind": 1,
    "links": [],
    "name": "chat gpt-5-2025-08-07",
    "parentSpanId": undefined,
    "resource": {
      "service.name": "PAIG",
      "service.version": "test",
    },
    "scope": "pydantic-ai-gateway",
    "status": {
      "code": 1,
    },
  },
]
`;

exports[`openai > openai responses legacy name > llm 1`] = `
{
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "message": {
        "annotations": [],
        "content": "Paris.",
        "refusal": null,
        "role": "assistant",
      },
    },
  ],
  "created": 1762860490,
  "id": "chatcmpl-CagpeM1SJL1btImFBBsJ3DlGZ2nKb",
  "model": "gpt-5-2025-08-07",
  "object": "chat.completion",
  "service_tier": "default",
  "system_fingerprint": null,
  "usage": {
    "completion_tokens": 11,
    "completion_tokens_details": {
      "accepted_prediction_tokens": 0,
      "audio_tokens": 0,
      "reasoning_tokens": 0,
      "rejected_prediction_tokens": 0,
    },
    "prompt_tokens": 23,
    "prompt_tokens_details": {
      "audio_tokens": 0,
      "cached_tokens": 0,
    },
    "pydantic_ai_gateway": {
      "cost_estimate": 0.00013875,
    },
    "total_tokens": 34,
  },
}
`;

exports[`openai > openai responses legacy name > span 1`] = `
[
  {
    "attributes": {
      "gen_ai.input.messages": [
        {
          "parts": [
            {
              "content": "You are a helpful assistant.",
              "type": "text",
            },
          ],
          "role": "system",
        },
        {
          "parts": [
            {
              "content": "What is the capital of France?",
              "type": "text",
            },
          ],
          "role": "user",
        },
      ],
      "gen_ai.operation.name": "chat",
      "gen_ai.output.messages": [
        {
          "finish_reason": "stop",
          "parts": [
            {
              "content": "Paris.",
              "type": "text",
            },
          ],
          "role": "assistant",
        },
      ],
      "gen_ai.request.max_tokens": 1024,
      "gen_ai.request.model": "gpt-5",
      "gen_ai.request.seed": {},
      "gen_ai.request.stop_sequences": {},
      "gen_ai.request.temperature": {},
      "gen_ai.request.top_k": {},
      "gen_ai.request.top_p": {},
      "gen_ai.response.finish_reasons": [
        "stop",
      ],
      "gen_ai.response.id": "chatcmpl-CagpeM1SJL1btImFBBsJ3DlGZ2nKb",
      "gen_ai.response.model": "gpt-5-2025-08-07",
      "gen_ai.system": "openai",
      "gen_ai.system_instructions": {},
      "gen_ai.usage.cache_audio_read_tokens": {},
      "gen_ai.usage.cache_read_tokens": 0,
      "gen_ai.usage.cache_write_tokens": {},
      "gen_ai.usage.input_audio_tokens": 0,
      "gen_ai.usage.input_tokens": 23,
      "gen_ai.usage.output_audio_tokens": 0,
      "gen_ai.usage.output_tokens": 11,
      "http.request.body.text": "{
  "model": "gpt-5",
  "messages": [
    {
      "role": "developer",
      "content": "You are a helpful assistant."
    },
    {
      "role": "user",
      "content": "What is the capital of France?"
    }
  ],
  "max_completion_tokens": 1024
}",
      "http.response.body.text": "{"id":"chatcmpl-CagpeM1SJL1btImFBBsJ3DlGZ2nKb","object":"chat.completion","created":1762860490,"model":"gpt-5-2025-08-07","choices":[{"index":0,"message":{"role":"assistant","content":"Paris.","refusal":null,"annotations":[]},"finish_reason":"stop"}],"usage":{"prompt_tokens":23,"completion_tokens":11,"total_tokens":34,"prompt_tokens_details":{"cached_tokens":0,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":0,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0},"pydantic_ai_gateway":{"cost_estimate":0.00013875}},"service_tier":"default","system_fingerprint":null}",
      "http.response.status_code": 200,
      "logfire.json_schema": "{"type":"object","properties":{"gen_ai.operation.name":{"type":"string"},"gen_ai.request.model":{"type":"string"},"gen_ai.system":{"type":"string"},"gen_ai.request.max_tokens":{"type":"number"},"gen_ai.request.top_k":{},"gen_ai.request.top_p":{},"gen_ai.request.temperature":{},"gen_ai.request.stop_sequences":{},"gen_ai.request.seed":{},"gen_ai.response.finish_reasons":{},"gen_ai.response.id":{"type":"string"},"gen_ai.input.messages":{},"gen_ai.output.messages":{},"gen_ai.system_instructions":{},"http.response.status_code":{"type":"number"},"http.request.body.text":{"type":"string"},"http.response.body.text":{"type":"string"},"gen_ai.response.model":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.cache_read_tokens":{"type":"number"},"gen_ai.usage.cache_write_tokens":{},"gen_ai.usage.output_tokens":{"type":"number"},"gen_ai.usage.input_audio_tokens":{"type":"number"},"gen_ai.usage.cache_audio_read_tokens":{},"gen_ai.usage.output_audio_tokens":{"type":"number"}}}",
      "logfire.level_num": 9,
      "logfire.msg": "chat gpt-5-2025-08-07",
    },
    "events": [],
    "kind": 1,
    "links": [],
    "name": "chat gpt-5-2025-08-07",
    "parentSpanId": undefined,
    "resource": {
      "service.name": "PAIG",
      "service.version": "test",
    },
    "scope": "pydantic-ai-gateway",
    "status": {
      "code": 1,
    },
  },
]
`;

exports[`openai > openai responses stream > chunks 1`] = `
[
  {
    "response": {
      "background": false,
      "created_at": 1762860556,
      "error": null,
      "id": "resp_05e9f6e35bff13970069131e0c3d6881a0a0a473b7052b7b42",
      "incomplete_details": null,
      "instructions": "reply concisely",
      "max_output_tokens": null,
      "max_tool_calls": null,
      "metadata": {},
      "model": "gpt-5-2025-08-07",
      "object": "response",
      "output": [],
      "parallel_tool_calls": true,
      "previous_response_id": null,
      "prompt_cache_key": null,
      "prompt_cache_retention": null,
      "reasoning": {
        "effort": "medium",
        "summary": null,
      },
      "safety_identifier": null,
      "service_tier": "auto",
      "status": "in_progress",
      "store": true,
      "temperature": 1,
      "text": {
        "format": {
          "type": "text",
        },
        "verbosity": "medium",
      },
      "tool_choice": "auto",
      "tools": [],
      "top_logprobs": 0,
      "top_p": 1,
      "truncation": "disabled",
      "usage": null,
      "user": null,
    },
    "sequence_number": 0,
    "type": "response.created",
  },
  {
    "response": {
      "background": false,
      "created_at": 1762860556,
      "error": null,
      "id": "resp_05e9f6e35bff13970069131e0c3d6881a0a0a473b7052b7b42",
      "incomplete_details": null,
      "instructions": "reply concisely",
      "max_output_tokens": null,
      "max_tool_calls": null,
      "metadata": {},
      "model": "gpt-5-2025-08-07",
      "object": "response",
      "output": [],
      "parallel_tool_calls": true,
      "previous_response_id": null,
      "prompt_cache_key": null,
      "prompt_cache_retention": null,
      "reasoning": {
        "effort": "medium",
        "summary": null,
      },
      "safety_identifier": null,
      "service_tier": "auto",
      "status": "in_progress",
      "store": true,
      "temperature": 1,
      "text": {
        "format": {
          "type": "text",
        },
        "verbosity": "medium",
      },
      "tool_choice": "auto",
      "tools": [],
      "top_logprobs": 0,
      "top_p": 1,
      "truncation": "disabled",
      "usage": null,
      "user": null,
    },
    "sequence_number": 1,
    "type": "response.in_progress",
  },
  {
    "item": {
      "id": "rs_05e9f6e35bff13970069131e0c7fac81a099cb84a46c036f3e",
      "summary": [],
      "type": "reasoning",
    },
    "output_index": 0,
    "sequence_number": 2,
    "type": "response.output_item.added",
  },
  {
    "item": {
      "id": "rs_05e9f6e35bff13970069131e0c7fac81a099cb84a46c036f3e",
      "summary": [],
      "type": "reasoning",
    },
    "output_index": 0,
    "sequence_number": 3,
    "type": "response.output_item.done",
  },
  {
    "item": {
      "content": [],
      "id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
      "role": "assistant",
      "status": "in_progress",
      "type": "message",
    },
    "output_index": 1,
    "sequence_number": 4,
    "type": "response.output_item.added",
  },
  {
    "content_index": 0,
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "output_index": 1,
    "part": {
      "annotations": [],
      "logprobs": [],
      "text": "",
      "type": "output_text",
    },
    "sequence_number": 5,
    "type": "response.content_part.added",
  },
  {
    "content_index": 0,
    "delta": "Usually",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "GRSCr6cdG",
    "output_index": 1,
    "sequence_number": 6,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " blue",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "vUSmzaWDHkC",
    "output_index": 1,
    "sequence_number": 7,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " during",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "920kZst40",
    "output_index": 1,
    "sequence_number": 8,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " the",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "q0EeCwDS3MH2",
    "output_index": 1,
    "sequence_number": 9,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " day",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "Xtx2X9q57puy",
    "output_index": 1,
    "sequence_number": 10,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": ";",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "HfV2ZrSe5V10YFp",
    "output_index": 1,
    "sequence_number": 11,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " red",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "TOPe8qt0jf7i",
    "output_index": 1,
    "sequence_number": 12,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": "/or",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "M8wezGfvkGyW9",
    "output_index": 1,
    "sequence_number": 13,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": "ange",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "0Xssdu0j39Oe",
    "output_index": 1,
    "sequence_number": 14,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " at",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "idOn23lcciQYz",
    "output_index": 1,
    "sequence_number": 15,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " sunrise",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "NLys57YO",
    "output_index": 1,
    "sequence_number": 16,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " and",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "TiS1sMSVX8Wi",
    "output_index": 1,
    "sequence_number": 17,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " sunset",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "9O687daL3",
    "output_index": 1,
    "sequence_number": 18,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": ",",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "TPwmI3GJcHEw1gt",
    "output_index": 1,
    "sequence_number": 19,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " gray",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "QuvTUTNyxzY",
    "output_index": 1,
    "sequence_number": 20,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " when",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "0S4gMpk3UU3",
    "output_index": 1,
    "sequence_number": 21,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " over",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "e1rfUzQ4cqW",
    "output_index": 1,
    "sequence_number": 22,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": "cast",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "FIC7b6AViOTZ",
    "output_index": 1,
    "sequence_number": 23,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": ",",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "BTdtdBrdnn5P5jM",
    "output_index": 1,
    "sequence_number": 24,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " and",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "q75kIYqvEUYU",
    "output_index": 1,
    "sequence_number": 25,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " black",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "MnURALaslq",
    "output_index": 1,
    "sequence_number": 26,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " at",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "ThgkPep2ldBrX",
    "output_index": 1,
    "sequence_number": 27,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": " night",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "OiCjV5m7Mh",
    "output_index": 1,
    "sequence_number": 28,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "delta": ".",
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "obfuscation": "5vPteqlXqeMT1uz",
    "output_index": 1,
    "sequence_number": 29,
    "type": "response.output_text.delta",
  },
  {
    "content_index": 0,
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "logprobs": [],
    "output_index": 1,
    "sequence_number": 30,
    "text": "Usually blue during the day; red/orange at sunrise and sunset, gray when overcast, and black at night.",
    "type": "response.output_text.done",
  },
  {
    "content_index": 0,
    "item_id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
    "output_index": 1,
    "part": {
      "annotations": [],
      "logprobs": [],
      "text": "Usually blue during the day; red/orange at sunrise and sunset, gray when overcast, and black at night.",
      "type": "output_text",
    },
    "sequence_number": 31,
    "type": "response.content_part.done",
  },
  {
    "item": {
      "content": [
        {
          "annotations": [],
          "logprobs": [],
          "text": "Usually blue during the day; red/orange at sunrise and sunset, gray when overcast, and black at night.",
          "type": "output_text",
        },
      ],
      "id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
      "role": "assistant",
      "status": "completed",
      "type": "message",
    },
    "output_index": 1,
    "sequence_number": 32,
    "type": "response.output_item.done",
  },
  {
    "response": {
      "background": false,
      "created_at": 1762860556,
      "error": null,
      "id": "resp_05e9f6e35bff13970069131e0c3d6881a0a0a473b7052b7b42",
      "incomplete_details": null,
      "instructions": "reply concisely",
      "max_output_tokens": null,
      "max_tool_calls": null,
      "metadata": {},
      "model": "gpt-5-2025-08-07",
      "object": "response",
      "output": [
        {
          "id": "rs_05e9f6e35bff13970069131e0c7fac81a099cb84a46c036f3e",
          "summary": [],
          "type": "reasoning",
        },
        {
          "content": [
            {
              "annotations": [],
              "logprobs": [],
              "text": "Usually blue during the day; red/orange at sunrise and sunset, gray when overcast, and black at night.",
              "type": "output_text",
            },
          ],
          "id": "msg_05e9f6e35bff13970069131e0f647081a0a16827cc22d1adb9",
          "role": "assistant",
          "status": "completed",
          "type": "message",
        },
      ],
      "parallel_tool_calls": true,
      "previous_response_id": null,
      "prompt_cache_key": null,
      "prompt_cache_retention": null,
      "reasoning": {
        "effort": "medium",
        "summary": null,
      },
      "safety_identifier": null,
      "service_tier": "default",
      "status": "completed",
      "store": true,
      "temperature": 1,
      "text": {
        "format": {
          "type": "text",
        },
        "verbosity": "medium",
      },
      "tool_choice": "auto",
      "tools": [],
      "top_logprobs": 0,
      "top_p": 1,
      "truncation": "disabled",
      "usage": {
        "input_tokens": 20,
        "input_tokens_details": {
          "cached_tokens": 0,
        },
        "output_tokens": 158,
        "output_tokens_details": {
          "reasoning_tokens": 128,
        },
        "total_tokens": 178,
      },
      "user": null,
    },
    "sequence_number": 33,
    "type": "response.completed",
  },
]
`;

exports[`openai > openai responses stream > span 1`] = `
[
  {
    "attributes": {
      "gen_ai.input.messages": [
        {
          "parts": [
            {
              "content": "what color is the sky?",
              "type": "text",
            },
          ],
          "role": "user",
        },
      ],
      "gen_ai.operation.name": "chat",
      "gen_ai.request.model": "gpt-5",
      "gen_ai.response.id": "resp_05e9f6e35bff13970069131e0c3d6881a0a0a473b7052b7b42",
      "gen_ai.response.model": "gpt-5-2025-08-07",
      "gen_ai.system": "openai",
      "gen_ai.usage.cache_read_tokens": 0,
      "gen_ai.usage.input_tokens": 20,
      "gen_ai.usage.output_tokens": 158,
      "http.request.header.accept": "application/json",
      "http.request.header.content-length": "114",
      "http.request.header.content-type": "application/json",
      "http.request.header.user-agent": "OpenAI/JS 4.104.0",
      "http.request.header.x-stainless-arch": "unknown",
      "http.request.header.x-stainless-lang": "js",
      "http.request.header.x-stainless-os": "Unknown",
      "http.request.header.x-stainless-package-version": "4.104.0",
      "http.request.header.x-stainless-retry-count": "0",
      "http.request.header.x-stainless-runtime": "unknown",
      "http.request.header.x-stainless-runtime-version": "unknown",
      "http.request.header.x-stainless-timeout": "600",
      "http.request.method": "POST",
      "http.response.header.content-type": "text/event-stream; charset=utf-8",
      "http.response.header.server": "uvicorn",
      "http.response.header.transfer-encoding": "chunked",
      "http.response.status_code": 200,
      "logfire.json_schema": "{"type":"object","properties":{"gen_ai.system":{"type":"string"},"gen_ai.operation.name":{"type":"string"},"gen_ai.request.model":{"type":"string"},"gen_ai.input.messages":{},"gen_ai.response.model":{"type":"string"},"gen_ai.response.id":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.cache_read_tokens":{"type":"number"},"gen_ai.usage.output_tokens":{"type":"number"},"http.request.method":{"type":"string"},"url.full":{"type":"string"},"http.request.header.accept":{"type":"string"},"http.request.header.content-length":{"type":"string"},"http.request.header.content-type":{"type":"string"},"http.request.header.user-agent":{"type":"string"},"http.request.header.x-stainless-arch":{"type":"string"},"http.request.header.x-stainless-lang":{"type":"string"},"http.request.header.x-stainless-os":{"type":"string"},"http.request.header.x-stainless-package-version":{"type":"string"},"http.request.header.x-stainless-retry-count":{"type":"string"},"http.request.header.x-stainless-runtime":{"type":"string"},"http.request.header.x-stainless-runtime-version":{"type":"string"},"http.request.header.x-stainless-timeout":{"type":"string"},"http.response.status_code":{"type":"number"},"http.response.header.content-type":{"type":"string"},"http.response.header.server":{"type":"string"},"http.response.header.transfer-encoding":{"type":"string"}}}",
      "logfire.level_num": 9,
      "logfire.msg": "chat gpt-5",
      "url.full": "https://example.com/responses/responses",
    },
    "events": [],
    "kind": 1,
    "links": [],
    "name": "chat gpt-5",
    "parentSpanId": undefined,
    "resource": {
      "service.name": "PAIG",
      "service.version": "test",
    },
    "scope": "pydantic-ai-gateway",
    "status": {
      "code": 1,
    },
  },
]
`;

exports[`openai > openai responses with builtin tools > llm 1`] = `
{
  "background": false,
  "billing": {
    "payer": "developer",
  },
  "created_at": 1762860509,
  "error": null,
  "id": "resp_082fa8e15dcf68ca0069131ddd1d5c81a3a39abf96937660d6",
  "incomplete_details": null,
  "instructions": "be precise",
  "max_output_tokens": null,
  "max_tool_calls": null,
  "metadata": {},
  "model": "gpt-5-2025-08-07",
  "object": "response",
  "output": [
    {
      "id": "rs_082fa8e15dcf68ca0069131ddfa7c881a3a87573df0d17a16c",
      "summary": [],
      "type": "reasoning",
    },
    {
      "code": "import math, decimal
n=123_902_139_123
math.sqrt(n)",
      "container_id": "cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03",
      "id": "ci_082fa8e15dcf68ca0069131de4a57081a3853a6508c3cb6979",
      "outputs": null,
      "status": "completed",
      "type": "code_interpreter_call",
    },
    {
      "id": "rs_082fa8e15dcf68ca0069131de8f87081a3ac0520569a5e815a",
      "summary": [],
      "type": "reasoning",
    },
    {
      "code": "from decimal import Decimal, getcontext
getcontext().prec=50
n=Decimal(123902139123)
root=n.sqrt()
root",
      "container_id": "cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03",
      "id": "ci_082fa8e15dcf68ca0069131deb218081a38a044aec98c3a573",
      "outputs": null,
      "status": "completed",
      "type": "code_interpreter_call",
    },
    {
      "id": "rs_082fa8e15dcf68ca0069131dece9d081a384f0196dc03e48fe",
      "summary": [],
      "type": "reasoning",
    },
    {
      "code": "import math
n=123_902_139_123
s=math.isqrt(n)
s, s*s <= n, (s+1)*(s+1) > n",
      "container_id": "cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03",
      "id": "ci_082fa8e15dcf68ca0069131ded86a481a387440dca19cae123",
      "outputs": null,
      "status": "completed",
      "type": "code_interpreter_call",
    },
    {
      "id": "rs_082fa8e15dcf68ca0069131defa9d881a3b2d13641a81cda7b",
      "summary": [],
      "type": "reasoning",
    },
    {
      "code": "s=351_997
s*s, (s+1)*(s+1)",
      "container_id": "cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03",
      "id": "ci_082fa8e15dcf68ca0069131df3779081a3a5bd846478776ed5",
      "outputs": null,
      "status": "completed",
      "type": "code_interpreter_call",
    },
    {
      "id": "rs_082fa8e15dcf68ca0069131df5529881a397fd0df21324c748",
      "summary": [],
      "type": "reasoning",
    },
    {
      "code": "from decimal import Decimal, getcontext, ROUND_HALF_UP
getcontext().prec=60
n=Decimal(123902139123)
root=n.sqrt()
# format to 18 decimal places
q = Decimal('0.000000000000000001')
rounded = root.quantize(q, rounding=ROUND_HALF_UP)
str(rounded)",
      "container_id": "cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03",
      "id": "ci_082fa8e15dcf68ca0069131df91d7081a3a476c5035db491f9",
      "outputs": null,
      "status": "completed",
      "type": "code_interpreter_call",
    },
    {
      "id": "rs_082fa8e15dcf68ca0069131dfb9a4081a3b484fe739baa5f9b",
      "summary": [],
      "type": "reasoning",
    },
    {
      "code": "from decimal import Decimal, getcontext, ROUND_HALF_UP
getcontext().prec=60
n=Decimal(123902139123)
root=n.sqrt()
q=Decimal('0.000000000001')
root.quantize(q, rounding=ROUND_HALF_UP)",
      "container_id": "cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03",
      "id": "ci_082fa8e15dcf68ca0069131dfc81a081a3a67254f5f6980c48",
      "outputs": null,
      "status": "completed",
      "type": "code_interpreter_call",
    },
    {
      "id": "rs_082fa8e15dcf68ca0069131dfed1f481a3a609fcee50c39467",
      "summary": [],
      "type": "reasoning",
    },
    {
      "content": [
        {
          "annotations": [],
          "logprobs": [],
          "text": "The square root of 123902139123 is approximately 351,997.356698882044317918.",
          "type": "output_text",
        },
      ],
      "id": "msg_082fa8e15dcf68ca0069131e07c83c81a3ac749c5a0ecdbdc9",
      "role": "assistant",
      "status": "completed",
      "type": "message",
    },
  ],
  "output_text": "The square root of 123902139123 is approximately 351,997.356698882044317918.",
  "parallel_tool_calls": true,
  "previous_response_id": null,
  "prompt_cache_key": null,
  "prompt_cache_retention": null,
  "reasoning": {
    "effort": "medium",
    "summary": null,
  },
  "safety_identifier": null,
  "service_tier": "default",
  "status": "completed",
  "store": true,
  "temperature": 1,
  "text": {
    "format": {
      "type": "text",
    },
    "verbosity": "medium",
  },
  "tool_choice": "auto",
  "tools": [
    {
      "container": {
        "type": "auto",
      },
      "type": "code_interpreter",
    },
  ],
  "top_logprobs": 0,
  "top_p": 1,
  "truncation": "disabled",
  "usage": {
    "input_tokens": 1879,
    "input_tokens_details": {
      "cached_tokens": 0,
    },
    "output_tokens": 1053,
    "output_tokens_details": {
      "reasoning_tokens": 1024,
    },
    "pydantic_ai_gateway": {
      "cost_estimate": 0.01287875,
    },
    "total_tokens": 2932,
  },
  "user": null,
}
`;

exports[`openai > openai responses with builtin tools > span 1`] = `
[
  {
    "attributes": {
      "gen_ai.input.messages": [
        {
          "parts": [
            {
              "content": "what's the root square of 123902139123?",
              "type": "text",
            },
          ],
          "role": "user",
        },
      ],
      "gen_ai.operation.name": "chat",
      "gen_ai.output.messages": [
        {
          "parts": [
            {
              "content": "",
              "type": "thinking",
            },
            {
              "part": {
                "code": "import math, decimal
n=123_902_139_123
math.sqrt(n)",
                "container_id": "cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03",
                "id": "ci_082fa8e15dcf68ca0069131de4a57081a3853a6508c3cb6979",
                "outputs": {},
                "status": "completed",
                "type": "code_interpreter_call",
              },
              "type": "unknown",
            },
            {
              "content": "",
              "type": "thinking",
            },
            {
              "part": {
                "code": "from decimal import Decimal, getcontext
getcontext().prec=50
n=Decimal(123902139123)
root=n.sqrt()
root",
                "container_id": "cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03",
                "id": "ci_082fa8e15dcf68ca0069131deb218081a38a044aec98c3a573",
                "outputs": {},
                "status": "completed",
                "type": "code_interpreter_call",
              },
              "type": "unknown",
            },
            {
              "content": "",
              "type": "thinking",
            },
            {
              "part": {
                "code": "import math
n=123_902_139_123
s=math.isqrt(n)
s, s*s <= n, (s+1)*(s+1) > n",
                "container_id": "cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03",
                "id": "ci_082fa8e15dcf68ca0069131ded86a481a387440dca19cae123",
                "outputs": {},
                "status": "completed",
                "type": "code_interpreter_call",
              },
              "type": "unknown",
            },
            {
              "content": "",
              "type": "thinking",
            },
            {
              "part": {
                "code": "s=351_997
s*s, (s+1)*(s+1)",
                "container_id": "cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03",
                "id": "ci_082fa8e15dcf68ca0069131df3779081a3a5bd846478776ed5",
                "outputs": {},
                "status": "completed",
                "type": "code_interpreter_call",
              },
              "type": "unknown",
            },
            {
              "content": "",
              "type": "thinking",
            },
            {
              "part": {
                "code": "from decimal import Decimal, getcontext, ROUND_HALF_UP
getcontext().prec=60
n=Decimal(123902139123)
root=n.sqrt()
# format to 18 decimal places
q = Decimal('0.000000000000000001')
rounded = root.quantize(q, rounding=ROUND_HALF_UP)
str(rounded)",
                "container_id": "cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03",
                "id": "ci_082fa8e15dcf68ca0069131df91d7081a3a476c5035db491f9",
                "outputs": {},
                "status": "completed",
                "type": "code_interpreter_call",
              },
              "type": "unknown",
            },
            {
              "content": "",
              "type": "thinking",
            },
            {
              "part": {
                "code": "from decimal import Decimal, getcontext, ROUND_HALF_UP
getcontext().prec=60
n=Decimal(123902139123)
root=n.sqrt()
q=Decimal('0.000000000001')
root.quantize(q, rounding=ROUND_HALF_UP)",
                "container_id": "cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03",
                "id": "ci_082fa8e15dcf68ca0069131dfc81a081a3a67254f5f6980c48",
                "outputs": {},
                "status": "completed",
                "type": "code_interpreter_call",
              },
              "type": "unknown",
            },
            {
              "content": "",
              "type": "thinking",
            },
            {
              "content": "The square root of 123902139123 is approximately 351,997.356698882044317918.",
              "type": "text",
            },
          ],
          "role": "assistant",
        },
      ],
      "gen_ai.request.max_tokens": {},
      "gen_ai.request.model": "gpt-5",
      "gen_ai.request.seed": {},
      "gen_ai.request.stop_sequences": {},
      "gen_ai.request.temperature": {},
      "gen_ai.request.top_k": {},
      "gen_ai.request.top_p": {},
      "gen_ai.response.finish_reasons": {},
      "gen_ai.response.id": "resp_082fa8e15dcf68ca0069131ddd1d5c81a3a39abf96937660d6",
      "gen_ai.response.model": "gpt-5-2025-08-07",
      "gen_ai.system": "openai",
      "gen_ai.system_instructions": {},
      "gen_ai.usage.cache_audio_read_tokens": {},
      "gen_ai.usage.cache_read_tokens": 0,
      "gen_ai.usage.cache_write_tokens": {},
      "gen_ai.usage.input_audio_tokens": {},
      "gen_ai.usage.input_tokens": 1879,
      "gen_ai.usage.output_audio_tokens": {},
      "gen_ai.usage.output_tokens": 1053,
      "http.request.body.text": "{
  "model": "gpt-5",
  "instructions": "be precise",
  "input": "what's the root square of 123902139123?",
  "tools": [
    {
      "type": "code_interpreter",
      "container": {
        "type": "auto"
      }
    }
  ]
}",
      "http.response.body.text": "{"id":"resp_082fa8e15dcf68ca0069131ddd1d5c81a3a39abf96937660d6","object":"response","created_at":1762860509,"status":"completed","background":false,"billing":{"payer":"developer"},"error":null,"incomplete_details":null,"instructions":"be precise","max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-2025-08-07","output":[{"id":"rs_082fa8e15dcf68ca0069131ddfa7c881a3a87573df0d17a16c","type":"reasoning","summary":[]},{"id":"ci_082fa8e15dcf68ca0069131de4a57081a3853a6508c3cb6979","type":"code_interpreter_call","status":"completed","code":"import math, decimal\\r\\nn=123_902_139_123\\r\\nmath.sqrt(n)","container_id":"cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03","outputs":null},{"id":"rs_082fa8e15dcf68ca0069131de8f87081a3ac0520569a5e815a","type":"reasoning","summary":[]},{"id":"ci_082fa8e15dcf68ca0069131deb218081a38a044aec98c3a573","type":"code_interpreter_call","status":"completed","code":"from decimal import Decimal, getcontext\\r\\ngetcontext().prec=50\\r\\nn=Decimal(123902139123)\\r\\nroot=n.sqrt()\\r\\nroot","container_id":"cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03","outputs":null},{"id":"rs_082fa8e15dcf68ca0069131dece9d081a384f0196dc03e48fe","type":"reasoning","summary":[]},{"id":"ci_082fa8e15dcf68ca0069131ded86a481a387440dca19cae123","type":"code_interpreter_call","status":"completed","code":"import math\\r\\nn=123_902_139_123\\r\\ns=math.isqrt(n)\\r\\ns, s*s <= n, (s+1)*(s+1) > n","container_id":"cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03","outputs":null},{"id":"rs_082fa8e15dcf68ca0069131defa9d881a3b2d13641a81cda7b","type":"reasoning","summary":[]},{"id":"ci_082fa8e15dcf68ca0069131df3779081a3a5bd846478776ed5","type":"code_interpreter_call","status":"completed","code":"s=351_997\\r\\ns*s, (s+1)*(s+1)","container_id":"cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03","outputs":null},{"id":"rs_082fa8e15dcf68ca0069131df5529881a397fd0df21324c748","type":"reasoning","summary":[]},{"id":"ci_082fa8e15dcf68ca0069131df91d7081a3a476c5035db491f9","type":"code_interpreter_call","status":"completed","code":"from decimal import Decimal, getcontext, ROUND_HALF_UP\\r\\ngetcontext().prec=60\\r\\nn=Decimal(123902139123)\\r\\nroot=n.sqrt()\\r\\n# format to 18 decimal places\\r\\nq = Decimal('0.000000000000000001')\\r\\nrounded = root.quantize(q, rounding=ROUND_HALF_UP)\\r\\nstr(rounded)","container_id":"cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03","outputs":null},{"id":"rs_082fa8e15dcf68ca0069131dfb9a4081a3b484fe739baa5f9b","type":"reasoning","summary":[]},{"id":"ci_082fa8e15dcf68ca0069131dfc81a081a3a67254f5f6980c48","type":"code_interpreter_call","status":"completed","code":"from decimal import Decimal, getcontext, ROUND_HALF_UP\\r\\ngetcontext().prec=60\\r\\nn=Decimal(123902139123)\\r\\nroot=n.sqrt()\\r\\nq=Decimal('0.000000000001')\\r\\nroot.quantize(q, rounding=ROUND_HALF_UP)","container_id":"cntr_69131ddf2c9481919aeb6463f689d10d080191d2eca8fa03","outputs":null},{"id":"rs_082fa8e15dcf68ca0069131dfed1f481a3a609fcee50c39467","type":"reasoning","summary":[]},{"id":"msg_082fa8e15dcf68ca0069131e07c83c81a3ac749c5a0ecdbdc9","type":"message","status":"completed","content":[{"type":"output_text","annotations":[],"logprobs":[],"text":"The square root of 123902139123 is approximately 351,997.356698882044317918."}],"role":"assistant"}],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"default","store":true,"temperature":1,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"code_interpreter","container":{"type":"auto"}}],"top_logprobs":0,"top_p":1,"truncation":"disabled","usage":{"input_tokens":1879,"input_tokens_details":{"cached_tokens":0},"output_tokens":1053,"output_tokens_details":{"reasoning_tokens":1024},"total_tokens":2932,"pydantic_ai_gateway":{"cost_estimate":0.01287875}},"user":null,"metadata":{}}",
      "http.response.status_code": 200,
      "logfire.json_schema": "{"type":"object","properties":{"gen_ai.operation.name":{"type":"string"},"gen_ai.request.model":{"type":"string"},"gen_ai.system":{"type":"string"},"gen_ai.request.max_tokens":{},"gen_ai.request.top_k":{},"gen_ai.request.top_p":{},"gen_ai.request.temperature":{},"gen_ai.request.stop_sequences":{},"gen_ai.request.seed":{},"gen_ai.response.finish_reasons":{},"gen_ai.response.id":{"type":"string"},"gen_ai.input.messages":{},"gen_ai.output.messages":{},"gen_ai.system_instructions":{},"http.response.status_code":{"type":"number"},"http.request.body.text":{"type":"string"},"http.response.body.text":{"type":"string"},"gen_ai.response.model":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.cache_read_tokens":{"type":"number"},"gen_ai.usage.cache_write_tokens":{},"gen_ai.usage.output_tokens":{"type":"number"},"gen_ai.usage.input_audio_tokens":{},"gen_ai.usage.cache_audio_read_tokens":{},"gen_ai.usage.output_audio_tokens":{}}}",
      "logfire.level_num": 9,
      "logfire.msg": "chat gpt-5-2025-08-07",
    },
    "events": [],
    "kind": 1,
    "links": [],
    "name": "chat gpt-5-2025-08-07",
    "parentSpanId": undefined,
    "resource": {
      "service.name": "PAIG",
      "service.version": "test",
    },
    "scope": "pydantic-ai-gateway",
    "status": {
      "code": 1,
    },
  },
]
`;

exports[`openai > stream injects stream_options > chunks 1`] = `
[
  {
    "choices": [
      {
        "delta": {
          "content": "",
          "refusal": null,
          "role": "assistant",
        },
        "finish_reason": null,
        "index": 0,
      },
    ],
    "created": 1763396489,
    "id": "chatcmpl-CcwGn8eQvSVhzNcfy3XDX9pIUHIQB",
    "model": "gpt-5-2025-08-07",
    "obfuscation": "FX1cL5NIsg",
    "object": "chat.completion.chunk",
    "service_tier": "default",
    "system_fingerprint": null,
    "usage": null,
  },
  {
    "choices": [
      {
        "delta": {
          "content": "Paris",
        },
        "finish_reason": null,
        "index": 0,
      },
    ],
    "created": 1763396489,
    "id": "chatcmpl-CcwGn8eQvSVhzNcfy3XDX9pIUHIQB",
    "model": "gpt-5-2025-08-07",
    "obfuscation": "JQTpWms",
    "object": "chat.completion.chunk",
    "service_tier": "default",
    "system_fingerprint": null,
    "usage": null,
  },
  {
    "choices": [
      {
        "delta": {
          "content": ".",
        },
        "finish_reason": null,
        "index": 0,
      },
    ],
    "created": 1763396489,
    "id": "chatcmpl-CcwGn8eQvSVhzNcfy3XDX9pIUHIQB",
    "model": "gpt-5-2025-08-07",
    "obfuscation": "qmHSFd5moKd",
    "object": "chat.completion.chunk",
    "service_tier": "default",
    "system_fingerprint": null,
    "usage": null,
  },
  {
    "choices": [
      {
        "delta": {},
        "finish_reason": "stop",
        "index": 0,
      },
    ],
    "created": 1763396489,
    "id": "chatcmpl-CcwGn8eQvSVhzNcfy3XDX9pIUHIQB",
    "model": "gpt-5-2025-08-07",
    "obfuscation": "rgCyCI",
    "object": "chat.completion.chunk",
    "service_tier": "default",
    "system_fingerprint": null,
    "usage": null,
  },
  {
    "choices": [],
    "created": 1763396489,
    "id": "chatcmpl-CcwGn8eQvSVhzNcfy3XDX9pIUHIQB",
    "model": "gpt-5-2025-08-07",
    "obfuscation": "DW2I5ikClYm",
    "object": "chat.completion.chunk",
    "service_tier": "default",
    "system_fingerprint": null,
    "usage": {
      "completion_tokens": 11,
      "completion_tokens_details": {
        "accepted_prediction_tokens": 0,
        "audio_tokens": 0,
        "reasoning_tokens": 0,
        "rejected_prediction_tokens": 0,
      },
      "prompt_tokens": 23,
      "prompt_tokens_details": {
        "audio_tokens": 0,
        "cached_tokens": 0,
      },
      "total_tokens": 34,
    },
  },
]
`;

exports[`openai > stream injects stream_options > span 1`] = `
[
  {
    "attributes": {
      "gen_ai.operation.name": "chat",
      "gen_ai.request.max_tokens": 1024,
      "gen_ai.request.model": "gpt-5",
      "gen_ai.response.id": "chatcmpl-CcwGn8eQvSVhzNcfy3XDX9pIUHIQB",
      "gen_ai.response.model": "gpt-5-2025-08-07",
      "gen_ai.system": "openai",
      "gen_ai.usage.cache_read_tokens": 0,
      "gen_ai.usage.input_audio_tokens": 0,
      "gen_ai.usage.input_tokens": 23,
      "gen_ai.usage.output_audio_tokens": 0,
      "gen_ai.usage.output_tokens": 11,
      "http.request.header.accept": "application/json",
      "http.request.header.content-length": "266",
      "http.request.header.content-type": "application/json",
      "http.request.header.user-agent": "OpenAI/JS 4.104.0",
      "http.request.header.x-stainless-arch": "unknown",
      "http.request.header.x-stainless-lang": "js",
      "http.request.header.x-stainless-os": "Unknown",
      "http.request.header.x-stainless-package-version": "4.104.0",
      "http.request.header.x-stainless-retry-count": "0",
      "http.request.header.x-stainless-runtime": "unknown",
      "http.request.header.x-stainless-runtime-version": "unknown",
      "http.request.header.x-stainless-timeout": "600",
      "http.request.header.x-vcr-filename": "stream-options",
      "http.request.method": "POST",
      "http.response.header.content-type": "text/event-stream; charset=utf-8",
      "http.response.header.server": "uvicorn",
      "http.response.header.transfer-encoding": "chunked",
      "http.response.status_code": 200,
      "logfire.json_schema": "{"type":"object","properties":{"gen_ai.system":{"type":"string"},"gen_ai.operation.name":{"type":"string"},"gen_ai.request.model":{"type":"string"},"gen_ai.request.max_tokens":{"type":"number"},"gen_ai.response.model":{"type":"string"},"gen_ai.response.id":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.cache_read_tokens":{"type":"number"},"gen_ai.usage.output_tokens":{"type":"number"},"gen_ai.usage.input_audio_tokens":{"type":"number"},"gen_ai.usage.output_audio_tokens":{"type":"number"},"http.request.method":{"type":"string"},"url.full":{"type":"string"},"http.request.header.accept":{"type":"string"},"http.request.header.content-length":{"type":"string"},"http.request.header.content-type":{"type":"string"},"http.request.header.user-agent":{"type":"string"},"http.request.header.x-stainless-arch":{"type":"string"},"http.request.header.x-stainless-lang":{"type":"string"},"http.request.header.x-stainless-os":{"type":"string"},"http.request.header.x-stainless-package-version":{"type":"string"},"http.request.header.x-stainless-retry-count":{"type":"string"},"http.request.header.x-stainless-runtime":{"type":"string"},"http.request.header.x-stainless-runtime-version":{"type":"string"},"http.request.header.x-stainless-timeout":{"type":"string"},"http.request.header.x-vcr-filename":{"type":"string"},"http.response.status_code":{"type":"number"},"http.response.header.content-type":{"type":"string"},"http.response.header.server":{"type":"string"},"http.response.header.transfer-encoding":{"type":"string"}}}",
      "logfire.level_num": 9,
      "logfire.msg": "chat gpt-5",
      "url.full": "https://example.com/openai/chat/completions",
    },
    "events": [],
    "kind": 1,
    "links": [],
    "name": "chat gpt-5",
    "parentSpanId": undefined,
    "resource": {
      "service.name": "PAIG",
      "service.version": "test",
    },
    "scope": "pydantic-ai-gateway",
    "status": {
      "code": 1,
    },
  },
]
`;
