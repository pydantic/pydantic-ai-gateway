// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`google > google-vertex/anthropic-client > llm 1`] = `"{"model":"claude-sonnet-4-20250514","id":"msg_vrtx_01781dYQx6QEULN2Mjt16mom","type":"message","role":"assistant","content":[{"type":"text","text":"The capital of Brazil is Brasília. It became the country's capital in 1960, replacing Rio de Janeiro, and was specifically designed and built to serve as the national capital."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":14,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":41,"pydantic_ai_gateway":{"cost_estimate":0.000657}}}"`;

exports[`google > google-vertex/anthropic-client > span 1`] = `
[
  {
    "attributes": {
      "gen_ai.input.messages": [
        {
          "parts": [
            {
              "content": "What is the capital of Brazil?",
              "type": "text",
            },
          ],
          "role": "user",
        },
      ],
      "gen_ai.operation.name": "chat",
      "gen_ai.output.messages": [
        {
          "finish_reason": "end_turn",
          "parts": [
            {
              "content": "The capital of Brazil is Brasília. It became the country's capital in 1960, replacing Rio de Janeiro, and was specifically designed and built to serve as the national capital.",
              "type": "text",
            },
          ],
          "role": "assistant",
        },
      ],
      "gen_ai.request.max_tokens": 1024,
      "gen_ai.request.model": "claude-sonnet-4",
      "gen_ai.request.seed": {},
      "gen_ai.request.stop_sequences": {},
      "gen_ai.request.temperature": {},
      "gen_ai.request.top_k": {},
      "gen_ai.request.top_p": {},
      "gen_ai.response.finish_reasons": [
        "end_turn",
      ],
      "gen_ai.response.id": "msg_vrtx_01781dYQx6QEULN2Mjt16mom",
      "gen_ai.response.model": "claude-sonnet-4-20250514",
      "gen_ai.system": "google-vertex",
      "gen_ai.system_instructions": {},
      "gen_ai.usage.cache_audio_read_tokens": {},
      "gen_ai.usage.cache_read_tokens": 0,
      "gen_ai.usage.cache_write_tokens": 0,
      "gen_ai.usage.input_audio_tokens": {},
      "gen_ai.usage.input_tokens": 14,
      "gen_ai.usage.output_audio_tokens": {},
      "gen_ai.usage.output_tokens": 41,
      "http.request.body.text": "{"max_tokens":1024,"messages":[{"role":"user","content":"What is the capital of Brazil?"}],"anthropic_version":"vertex-2023-10-16"}",
      "http.response.body.text": "{"model":"claude-sonnet-4-20250514","id":"msg_vrtx_01781dYQx6QEULN2Mjt16mom","type":"message","role":"assistant","content":[{"type":"text","text":"The capital of Brazil is Brasília. It became the country's capital in 1960, replacing Rio de Janeiro, and was specifically designed and built to serve as the national capital."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":14,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":41,"pydantic_ai_gateway":{"cost_estimate":0.000657}}}",
      "http.response.status_code": 200,
      "logfire.json_schema": "{"type":"object","properties":{"gen_ai.operation.name":{"type":"string"},"gen_ai.request.model":{"type":"string"},"gen_ai.system":{"type":"string"},"gen_ai.request.max_tokens":{"type":"number"},"gen_ai.request.top_k":{},"gen_ai.request.top_p":{},"gen_ai.request.temperature":{},"gen_ai.request.stop_sequences":{},"gen_ai.request.seed":{},"gen_ai.response.finish_reasons":{},"gen_ai.response.id":{"type":"string"},"gen_ai.input.messages":{},"gen_ai.output.messages":{},"gen_ai.system_instructions":{},"http.response.status_code":{"type":"number"},"http.request.body.text":{"type":"string"},"http.response.body.text":{"type":"string"},"gen_ai.response.model":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.cache_read_tokens":{"type":"number"},"gen_ai.usage.cache_write_tokens":{"type":"number"},"gen_ai.usage.output_tokens":{"type":"number"},"gen_ai.usage.input_audio_tokens":{},"gen_ai.usage.cache_audio_read_tokens":{},"gen_ai.usage.output_audio_tokens":{}}}",
      "logfire.level_num": 9,
      "logfire.msg": "chat claude-sonnet-4-20250514",
    },
    "events": [],
    "kind": 1,
    "links": [],
    "name": "chat claude-sonnet-4-20250514",
    "parentSpanId": undefined,
    "resource": {
      "service.name": "PAIG",
      "service.version": "test",
    },
    "scope": "pydantic-ai-gateway",
    "status": {
      "code": 1,
    },
  },
]
`;

exports[`google > google-vertex/default > llm 1`] = `
"data: {"candidates": [{"content": {"role": "model","parts": [{"functionCall": {"name": "final_result","args": {"dob": "1987-01-28","city": "London","name": "Samuel"}},"thoughtSignature": "Cv8DAePx/15NPXivPq2qwHSM/UINgrfX0lK5LFzFdj5Mjrk4L/kSOfdjv9N9A0ZvoBO/F1xwsqaMgLziYOk3cKk+6+oCcdyxjGbg8YkxRQqD+rx8TsGh6OhTNVjQpxAeWNUNvNkCa7E0oMbyFTtJIShIH0VudUMG2fkK+OFYFor9AoEdOidktBnebO439tkMBRq5XLPBF1STpo/+1V57oO+ioaLF8j3VbYGMHad/b3+eamMM1sfm2y4gwSeAVz9rIDLs7PlDoaYVxLSQsxX+bkNY9Jgk9o/CSZuM4G3ScuoDB45bOFncjJM9aTByuHFJbGThUAaFpsYfl1rq+FdjmxUWOa25lEA8SAMk977hstUpcTMwdKxQ3f3OOpnrYZAqmA0bpEIwqC+UwWETZ5bye0GBG6WxpbYdWX/UyD3cUTjym7YX59pTU5sZxOXRZ6+OM3eMq4fri8MqANj+dZtIDsglcVhK+Tu0NG5vGFDszApNByUpgn2JWGh2DRvYEFPrqEMXkZQRs71/udbwlFuJvqtSP6ZdZ1QpSPDvDqxFK1YQH61ZjEi54rK8nLDPHEPnKguk8G3binWoO9a1M6NygjmRicHP27OUMJvq8/VfwS73J5/Hz22TRKIuCmbE2jYvYhm2dYsClDzEOkg243L9EuCiJgzFb6lEdLe0Zub/wyku9g=="}]},"finishReason": "STOP","avgLogprobs": -0.67329925960964632}],"usageMetadata": {"promptTokenCount": 79,"candidatesTokenCount": 18,"totalTokenCount": 248,"trafficType": "ON_DEMAND","promptTokensDetails": [{"modality": "TEXT","tokenCount": 79}],"candidatesTokensDetails": [{"modality": "TEXT","tokenCount": 18}],"thoughtsTokenCount": 151},"modelVersion": "gemini-2.5-flash","createTime": "2025-11-11T11:44:04.295950Z","responseId": "hCETaY6IEtqemLAPtq7I8QE"}

"
`;

exports[`google > google-vertex/default > span 1`] = `
[
  {
    "attributes": {
      "gen_ai.operation.name": "chat",
      "gen_ai.response.model": "gemini-2.5-flash",
      "gen_ai.system": "google-vertex",
      "gen_ai.usage.input_tokens": 79,
      "gen_ai.usage.output_tokens": 169,
      "http.request.header.accept": "*/*",
      "http.request.header.accept-encoding": "deflate",
      "http.request.header.content-length": "830",
      "http.request.header.content-type": "application/json",
      "http.request.header.traceparent": "00-019a4effa21047ac31372f093cb8e712-8b60768281864a49-01",
      "http.request.header.user-agent": "pydantic-ai/1.0.19.dev5+b3b34f9, google-genai-sdk/1.36.0 gl-python/3.13.0 via Pydantic AI Gateway unknown, contact engineering@pydantic.dev",
      "http.request.header.x-goog-api-client": "google-genai-sdk/1.36.0 gl-python/3.13.0",
      "http.request.header.x-goog-api-key": "unset",
      "http.request.method": "POST",
      "http.response.header.content-type": "text/event-stream",
      "http.response.header.server": "uvicorn",
      "http.response.header.transfer-encoding": "chunked",
      "http.response.status_code": 200,
      "logfire.json_schema": "{"type":"object","properties":{"gen_ai.system":{"type":"string"},"gen_ai.operation.name":{"type":"string"},"gen_ai.response.model":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.output_tokens":{"type":"number"},"http.request.method":{"type":"string"},"url.full":{"type":"string"},"http.request.header.accept":{"type":"string"},"http.request.header.accept-encoding":{"type":"string"},"http.request.header.content-length":{"type":"string"},"http.request.header.content-type":{"type":"string"},"http.request.header.traceparent":{"type":"string"},"http.request.header.user-agent":{"type":"string"},"http.request.header.x-goog-api-client":{"type":"string"},"http.request.header.x-goog-api-key":{"type":"string"},"http.response.status_code":{"type":"number"},"http.response.header.content-type":{"type":"string"},"http.response.header.server":{"type":"string"},"http.response.header.transfer-encoding":{"type":"string"}}}",
      "logfire.level_num": 9,
      "logfire.msg": "chat streaming",
      "url.full": "https://example.com/gemini/v1beta1/projects/pydantic-ai/locations/global/publishers/google/models/gemini-2.5-flash:generateContent?alt=sse",
    },
    "events": [],
    "kind": 1,
    "links": [],
    "name": "chat streaming",
    "parentSpanId": undefined,
    "resource": {
      "service.name": "PAIG",
      "service.version": "test",
    },
    "scope": "pydantic-ai-gateway",
    "status": {
      "code": 1,
    },
  },
]
`;

exports[`google > google-vertex/stream > chunks 1`] = `
[
  "data: {"candidates": [{"content": {"role": "model","parts": [{"functionCall": {"name": "final_result","args": {"city": "London","name": "Samuel","dob": "1987-01-28"}},"thoughtSignature": "CiwB4/H/Xq4zuTAomDbpEQ8/5bqFVqtIB//HOeJMxThUcY06DbmOoH4Vbq+rtApnAePx/16J5B2/oRVJAn92YgG5b4Qz+MpFpe+4eRJJqsRRYSB11did+mjPoDkFuvWvwqkar9mZgD4nE5YIgELuDp0wzB8lxMcmTUuEZ81XwknkZEtp3nASsuFzHTZA6J07Z9+67wor/QpxAePx/15yJ9xJWZUZDkT//owC2ySqC1HdzaaHR6S3WYHKSJADKp9NFQn1RguwpkazjhbQGcgqETnWUGizDyzx/wkkFSVDa6UuOjBv7tIa218VcBWCa0WQI0XS8SqaM/bHgXmPovmVpURg0H8mF0/UcNIKlAEB4/H/XkL8gCvv5WGIrXceZnYXCL1qYFBd7zP6NPft2dGZd4eEUxfHmu6MZ/MgIib7JsuyNdHLjr/tSHXiRPBwZnS1W9Q+nn8en2KCHDhhHXRMOSbBIu69d0SOEBe8qpGD2M3U3S82xT1p+wantHCMO/x9JW9tEQvUN9SxNMbOZU6JVTVQn4OxF4mqq2d9tcjf8MdrCoABAePx/165cbuSfXKJBNGC3Y7ZKEbpRnWnkzDgZhQZd3mwctxXOgXK8L6tfBAL8nUDeh3lO4j+eT+SKT8MHp1UFrEDkV7coLL1f6KTWYPZkwhy9a1lazPI3Ydb9oV3mlW4hBEgndTGZpk0L37rMQaUhequ3xoNZtHHRyePAXe07dIKeAHj8f9e3nSet/F/WPP9/dnGWXLP6Ur03+i5BKEYsDOGrZV56ddNFv17sFQMznGxszCIo+pLGVmRZzanTk1z98SMiOX9sRbdyZpiFd6Gi3R0G3qGZAgbH+3ArmmoneJKlfAB1ESBDIVS39SrYlAumkMPQnnkjs03zw=="}]},"finishReason": "STOP"}],"usageMetadata": {"promptTokenCount": 79,"candidatesTokenCount": 18,"totalTokenCount": 228,"trafficType": "ON_DEMAND","promptTokensDetails": [{"modality": "TEXT","tokenCount": 79}],"candidatesTokensDetails": [{"modality": "TEXT","tokenCount": 18}],"thoughtsTokenCount": 131},"modelVersion": "gemini-2.5-flash","createTime": "2025-11-11T11:44:06.023997Z","responseId": "hiETab27AZ_kmLAPi5S32QI"}

",
]
`;

exports[`google > google-vertex/stream > span 1`] = `
[
  {
    "attributes": {
      "gen_ai.operation.name": "chat",
      "gen_ai.response.model": "gemini-2.5-flash",
      "gen_ai.system": "google-vertex",
      "gen_ai.usage.input_tokens": 79,
      "gen_ai.usage.output_tokens": 149,
      "http.request.header.accept": "*/*",
      "http.request.header.accept-encoding": "deflate",
      "http.request.header.content-length": "830",
      "http.request.header.content-type": "application/json",
      "http.request.header.traceparent": "00-019a4effa21047ac31372f093cb8e712-8b60768281864a49-01",
      "http.request.header.user-agent": "pydantic-ai/1.0.19.dev5+b3b34f9, google-genai-sdk/1.36.0 gl-python/3.13.0 via Pydantic AI Gateway unknown, contact engineering@pydantic.dev",
      "http.request.header.x-goog-api-client": "google-genai-sdk/1.36.0 gl-python/3.13.0",
      "http.request.header.x-goog-api-key": "unset",
      "http.request.header.x-vcr-filename": "stream",
      "http.request.method": "POST",
      "http.response.header.content-type": "text/event-stream",
      "http.response.header.server": "uvicorn",
      "http.response.header.transfer-encoding": "chunked",
      "http.response.status_code": 200,
      "logfire.json_schema": "{"type":"object","properties":{"gen_ai.system":{"type":"string"},"gen_ai.operation.name":{"type":"string"},"gen_ai.response.model":{"type":"string"},"gen_ai.usage.input_tokens":{"type":"number"},"gen_ai.usage.output_tokens":{"type":"number"},"http.request.method":{"type":"string"},"url.full":{"type":"string"},"http.request.header.accept":{"type":"string"},"http.request.header.accept-encoding":{"type":"string"},"http.request.header.content-length":{"type":"string"},"http.request.header.content-type":{"type":"string"},"http.request.header.traceparent":{"type":"string"},"http.request.header.user-agent":{"type":"string"},"http.request.header.x-goog-api-client":{"type":"string"},"http.request.header.x-goog-api-key":{"type":"string"},"http.request.header.x-vcr-filename":{"type":"string"},"http.response.status_code":{"type":"number"},"http.response.header.content-type":{"type":"string"},"http.response.header.server":{"type":"string"},"http.response.header.transfer-encoding":{"type":"string"}}}",
      "logfire.level_num": 9,
      "logfire.msg": "chat streaming",
      "url.full": "https://example.com/gemini/v1beta1/projects/pydantic-ai/locations/global/publishers/google/models/gemini-2.5-flash:streamGenerateContent?alt=sse",
    },
    "events": [],
    "kind": 1,
    "links": [],
    "name": "chat streaming",
    "parentSpanId": undefined,
    "resource": {
      "service.name": "PAIG",
      "service.version": "test",
    },
    "scope": "pydantic-ai-gateway",
    "status": {
      "code": 1,
    },
  },
]
`;
